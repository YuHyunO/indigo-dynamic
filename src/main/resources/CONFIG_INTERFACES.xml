<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
		http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.1.xsd">

    <util:list id="interfaces">

       <!-- <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="SAMPLE_1"/>
            <property name="querySequence"          value="DB1$IF_SRC_TGT_001.SELECT, DB2$IF_SRC_TGT_001.INSERT, DB1$IF_SRC_TGT_001.UPDATE"/>
            <property name="errorQuerySequence"     value="DB1$IF_SRC_TGT_001.ERROR_SELECT, DB2$IF_SRC_TGT_001.ERROR_INSERT, DB1$IF_SRC_TGT_001.ERROR_UPDATE"/>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="SAMPLE_2"/>
            <property name="querySequence"          value="DB1$@{if_id}.SELECT, DB2$@{if_id}.INSERT, DB1$@{if_id}.UPDATE"/>
            <property name="errorQuerySequence"     value="DB1$@{if_id}.ERROR_SELECT, DB2$@{if_id}.ERROR_INSERT, DB1$@{if_id}.ERROR_UPDATE"/>
        </bean>-->

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="DB_IF_TEST"/>
            <property name="description"            value="DB 인터페이스 테스트"/>
            <property name="querySequence"         value="DB1$@{if_id}.SELECT, DB2$@{if_id}.INSERT, DB1$@{if_id}.UPDATE"/>
            <property name="serviceId"              value="DB_WORKING_IN_GROUP_TX"/>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="FTP_IF_TEST"/>
            <property name="description"            value="FTP 인터페이스 테스트"/>
            <property name="serviceId"              value="FTP_LIST"/>
            <property name="sourceAliases"          value="SRC:FTP1, TGT:FTP2"/>
            <property name="fileTemplates">
                <list>
                    <bean class="mb.dnm.access.file.FileTemplate">
                        <property name="templateName"           value="FTP1"/>
                        <property name="remoteSendDir"          value="/"/>
                        <property name="remoteErrorDir"         value="/ftp/files/send/@{if_id}/@{yyyyMMdd}"/>
                        <property name="localReceiveDir"        value="C:\FTPdownload\@{if_id}"/>
                        <property name="type"                   value="FILE"/>
                        <property name="fileNamePattern"        value="*.x*"/>
                    </bean>
                    <bean class="mb.dnm.access.file.FileTemplate">
                        <property name="templateName"        value="FTP2"/>
                        <property name="remoteReceiveDir"    value="/ftp/files/recv/@{if_id}"/>
                        <property name="localReceiveDir"        value="C:\FTPdownload\@{if_id}"/>
                    </bean>
                </list>
            </property>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="FILE_IF_TEST"/>
            <property name="description"            value="FILE 인터페이스 테스트"/>
            <property name="serviceId"              value="FILE_LIST"/>
            <property name="sourceAliases"          value="SRC:LOCAL_DISK, TGT:FTP1"/>
            <property name="fileTemplates">
                <list>
                    <bean class="mb.dnm.access.file.FileTemplate">
                        <property name="templateName"           value="LOCAL_DISK"/>
                        <property name="localSendDir"           value="C:\FileStorage\send\@{if_id}"/>
                        <property name="localTempDir"           value="C:\FileStorage\temp\@{if_id}"/>
                        <property name="localSuccessDir"        value="C:\FileStorage\success\@{if_id}"/>
                        <property name="localErrorDir"          value="C:\FileStorage\error\@{if_id}"/>
                        <property name="localBackupDir"         value="C:\FileStorage\backup\@{if_id}"/>
                        <property name="type"                   value="ALL"/>
                        <!--<property name="fileNamePattern"        value="*.p*"/>-->
                    </bean>
                    <bean class="mb.dnm.access.file.FileTemplate">
                        <property name="templateName"           value="FTP1"/>
                        <property name="remoteReceiveDir"       value="/ftp/files/receive/@{if_id}"/>
                    </bean>
                </list>
            </property>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="FILE_COPY_IF_TEST"/>
            <property name="description"            value="FILE 인터페이스 테스트"/>
            <property name="serviceId"              value="FILE_COPY"/>
            <property name="sourceAliases"          value="SRC:LOCAL_DISK, TGT:FTP1"/>
            <property name="fileTemplates">
                <list>
                    <bean class="mb.dnm.access.file.FileTemplate">
                        <property name="templateName"           value="LOCAL_DISK"/>
                        <property name="localSendDir"           value="C:\FileStorage\send\@{if_id}"/>
                        <property name="localCopyDir"           value="C:\FileStorage\copied\@{if_id}"/>
                        <property name="type"                   value="ALL"/>
                        <!--<property name="fileNamePattern"        value="*.p*"/>-->
                    </bean>
                    <bean class="mb.dnm.access.file.FileTemplate">
                        <property name="templateName"           value="FTP1"/>
                        <property name="remoteReceiveDir"       value="/ftp/files/receive/@{if_id}"/>
                    </bean>
                </list>
            </property>
        </bean>

    </util:list>


</beans>