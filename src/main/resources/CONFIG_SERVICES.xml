<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
		http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.1.xsd">
    <import resource="service_2.xml"/>
    <import resource="service_3.xml"/>


    <util:map id="serviceStrategies">
        <entry key="service_2"  value-ref="service_2"/>
        <entry key="service_3"  value-ref="service_3"/>

        <entry key="DB_WORKING_NO_GROUP_TX">
            <list>
                <bean class="mb.dnm.service.db.Select">
                    <property name="output" value="Data"/>
                </bean>
                <bean class="mb.dnm.service.db.Insert">
                    <property name="input" value="Data"/>
                </bean>
                <bean class="mb.dnm.service.db.Update">
                    <property name="input" value="Data"/>
                </bean>
            </list>
        </entry>

        <entry key="DB_WORKING_IN_GROUP_TX">
            <list>
                <bean class="mb.dnm.service.db.Select">
                    <property name="output" value="Data"/>
                </bean>
                <bean class="mb.dnm.service.db.Select">
                    <property name="output" value="Data"/>
                </bean>
                <bean class="mb.dnm.service.db.StartTransaction"/>
                <!--<bean class="mb.dnm.service.db.Delete">
                    <property name="input"  value="Data"/>
                </bean>-->
                <bean class="mb.dnm.service.db.Insert">
                    <property name="input" value="Data"/>
                </bean>
                <bean class="mb.dnm.service.db.Update">
                    <property name="input" value="Data"/>
                </bean>
                <!--<bean class="mb.dnm.service.test.ThrowException"/>-->
                <bean class="mb.dnm.service.db.EndTransaction"/>
            </list>
        </entry>

        <entry key="FTP_WORKING">
            <list>
                <bean class="mb.dnm.service.ftp.FTPLogin">
                    <property name="sourceAlias" value="SRC"/>
                </bean>
                <bean class="mb.dnm.service.ftp.FTPLogin">
                    <property name="sourceAlias" value="TGT"/>
                </bean>
            </list>
        </entry>


    </util:map>


</beans>