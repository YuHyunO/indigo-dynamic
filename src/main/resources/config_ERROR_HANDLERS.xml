<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
		http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.1.xsd">

    <util:map id="errorHandlers">

        <entry key="$EH_DBFILE_ROLLBACK">
            <list>
                <bean class="mb.dnm.exeption.handler.ExecuteServiceErrorHandler">
                    <property name="service">
                        <bean class="mb.dnm.service.db.Rollback">
                            <property name="description"    value="에러가 발생한 인터페이스의 트랜잭션을 롤백한다."/>
                        </bean>
                    </property>
                </bean>
                <bean class="mb.dnm.exeption.handler.ExecuteServiceErrorHandler">
                    <property name="service">
                        <bean class="mb.dnm.service.file.DeleteFiles">
                            <property name="description"     	value="파일을 서버(로컬)에서 삭제한다."/>
                            <property name="input"              value="file_loc"/>
                        </bean>
                    </property>
                </bean>
            </list>
        </entry>

        <entry key="$EH_DB2DB">
            <list>
                <bean class="mb.dnm.exeption.handler.ServiceProcessableErrorHandler">
                    <property name="ignoreException"            value="true"/>
                    <property name="services">
                        <list>
                            <bean class="mb.dnm.service.db.Rollback">
                                <property name="description"    value="에러가 발생한 인터페이스의 DB 트랜잭션을 롤백한다."/>
                            </bean>
                            <bean class="mb.dnm.service.dynamic.ExecuteDynamicCode">
                                <property name="codeId" value="COMMON.CHECK_DB_ERROR"/>
                            </bean>
                            <bean class="mb.dnm.service.db.StartTransaction"/>
                            <bean class="mb.dnm.service.db.Update">
                                <property name="description"    value="Source DB 에 처리결과(에러)를 Update 한다."/>
                                <property name="input"          value="data_list"/>
                            </bean>
                            <bean class="mb.dnm.service.db.Commit"/>
                        </list>
                    </property>
                </bean>
            </list>
        </entry>

        <entry key="$EH_LOGGING">
            <list>
                <bean class="mb.dnm.exeption.handler.ExecuteServiceErrorHandler">
                    <property name="service">
                        <bean class="mb.dnm.service.general.OutputCustomData">
                            <property name="output"         value="no_logging_flag"/>
                            <property name="customData"     value="N"/>
                        </bean>
                    </property>
                </bean>
            </list>
        </entry>

    </util:map>

</beans>