<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
		http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.1.xsd">

    <util:list id="interfaces">

       <!-- <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="SAMPLE_1"/>
            <property name="querySequence"          value="DB1$IF_SRC_TGT_001.SELECT, DB2$IF_SRC_TGT_001.INSERT, DB1$IF_SRC_TGT_001.UPDATE"/>
            <property name="errorQuerySequence"     value="DB1$IF_SRC_TGT_001.ERROR_SELECT, DB2$IF_SRC_TGT_001.ERROR_INSERT, DB1$IF_SRC_TGT_001.ERROR_UPDATE"/>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="SAMPLE_2"/>
            <property name="querySequence"          value="DB1$@{if_id}.SELECT, DB2$@{if_id}.INSERT, DB1$@{if_id}.UPDATE"/>
            <property name="errorQuerySequence"     value="DB1$@{if_id}.ERROR_SELECT, DB2$@{if_id}.ERROR_INSERT, DB1$@{if_id}.ERROR_UPDATE"/>
        </bean>-->

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="DB_IF_TEST"/>
            <property name="description"            value="DB 인터페이스 테스트"/>
            <property name="querySequence"         value="DB1$@{if_id}.SELECT, DB2$@{if_id}.INSERT, DB1$@{if_id}.UPDATE"/>
            <property name="serviceId"              value="DB_WORKING_IN_GROUP_TX"/>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="FTP_IF_TEST"/>
            <property name="description"            value="FTP 인터페이스 테스트"/>
            <property name="serviceId"              value="FTP_LIST"/>
            <property name="sourceAliases"          value="SRC:FTP1, TGT:FTP2"/>
            <property name="fileTemplates">
                <list>
                    <bean class="mb.dnm.access.file.FileTemplate">
                        <property name="templateName"           value="FTP1"/>
                        <property name="remoteSendDir"          value="/"/>
                        <property name="remoteErrorDir"         value="/ftp/files/send/@{if_id}/@{yyyyMMdd}"/>
                        <property name="localReceiveDir"        value="C:\FTPdownload\@{if_id}"/>
                        <property name="type"                   value="FILE"/>
                        <property name="fileNamePattern"        value="*.x*"/>
                    </bean>
                    <bean class="mb.dnm.access.file.FileTemplate">
                        <property name="templateName"           value="FTP2"/>
                        <property name="remoteReceiveDir"       value="/ftp/files/recv/@{if_id}"/>
                        <property name="localReceiveDir"        value="C:\FTPdownload\@{if_id}"/>
                        <property name="remoteErrorDir"         value=""/>
                        <property name="dataType"               value="STRING"/>
                        <property name="charset"                value="UTF-8"/>
                    </bean>
                </list>
            </property>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="FILE_IF_TEST"/>
            <property name="description"            value="FILE 인터페이스 테스트"/>
            <property name="serviceId"              value="FILE_LIST"/>
            <property name="sourceAliases"          value="SRC:LOCAL_DISK, TGT:FTP1"/>
            <property name="fileTemplates">
                <list>
                    <bean class="mb.dnm.access.file.FileTemplate">
                        <property name="templateName"           value="LOCAL_DISK"/>
                        <property name="localSendDir"           value="C:\FileStorage\send\@{if_id}"/>
                        <property name="localTempDir"           value="C:\FileStorage\temp\@{if_id}"/>
                        <property name="localSuccessDir"        value="C:\FileStorage\success\@{if_id}"/>
                        <property name="localErrorDir"          value="C:\FileStorage\error\@{if_id}"/>
                        <property name="localBackupDir"         value="C:\FileStorage\backup\@{if_id}"/>
                        <property name="type"                   value="ALL"/>
                        <!--<property name="fileNamePattern"        value="*.p*"/>-->
                    </bean>
                    <bean class="mb.dnm.access.file.FileTemplate">
                        <property name="templateName"           value="FTP1"/>
                        <property name="remoteReceiveDir"       value="/ftp/files/receive/@{if_id}"/>
                    </bean>
                </list>
            </property>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="FILE_COPY_IF_TEST"/>
            <property name="description"            value="FILE 인터페이스 테스트"/>
            <property name="serviceId"              value="FILE_COPY"/>
            <property name="sourceAliases"          value="SRC:LOCAL_DISK, TGT:FTP1"/>
            <property name="fileTemplates">
                <list>
                    <bean class="mb.dnm.access.file.FileTemplate">
                        <property name="templateName"           value="LOCAL_DISK"/>
                        <property name="localSendDir"           value="C:\FileStorage\send\@{if_id}"/>
                        <property name="localCopyDir"           value="C:\FileStorage\copied\@{if_id}"/>
                        <property name="type"                   value="ALL"/>
                        <!--<property name="fileNamePattern"        value="*.p*"/>-->
                    </bean>
                    <bean class="mb.dnm.access.file.FileTemplate">
                        <property name="templateName"           value="FTP1"/>
                        <property name="remoteReceiveDir"       value="/ftp/files/receive/@{if_id}"/>
                    </bean>
                </list>
            </property>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="FTP_MOVE_IF_TEST"/>
            <property name="description"            value="FTP 인터페이스 테스트"/>
            <property name="serviceId"              value="FTP_MOVE"/>
            <property name="sourceAliases"          value="SRC:FTP2, TGT:FTP1"/>
            <property name="fileTemplates">
                <list>
                    <bean class="mb.dnm.access.file.FileTemplate">
                        <property name="templateName"           value="FTP2"/>
                        <property name="remoteSendDir"          value="/send"/>
                        <property name="remoteMoveDir"          value="/receive"/>
                    </bean>
                </list>
            </property>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="FILE_DELETE_IF_TEST"/>
            <property name="description"            value="FILE 인터페이스 테스트"/>
            <property name="serviceId"              value="FILE_DELETE"/>
            <property name="sourceAliases"          value="SRC:LOCAL_DISK"/>
            <property name="fileTemplates">
                <list>
                    <bean class="mb.dnm.access.file.FileTemplate">
                        <property name="templateName"           value="LOCAL_DISK"/>
                        <property name="localBackupDir"         value="C:\FileStorage\backup\@{if_id}"/>
                    </bean>
                </list>
            </property>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="FTP_DELETE_IF_TEST"/>
            <property name="description"            value="FTP 인터페이스 테스트"/>
            <property name="serviceId"              value="FTP_DELETE"/>
            <property name="sourceAliases"          value="SRC:FTP2"/>
            <property name="fileTemplates">
                <list>
                    <bean class="mb.dnm.access.file.FileTemplate">
                        <property name="templateName"           value="FTP2"/>
                        <property name="remoteBackupDir"        value="/backup"/>
                    </bean>
                </list>
            </property>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="FTP_UPLOAD_IF_TEST"/>
            <property name="description"            value="FTP 인터페이스 테스트"/>
            <property name="serviceId"              value="FTP_UPLOAD"/>
            <property name="sourceAliases"          value="SRC:LOCAL_DISK, TGT:FTP2"/>
            <property name="fileTemplates">
                <list>
                    <bean class="mb.dnm.access.file.FileTemplate">
                        <property name="templateName"           value="LOCAL_DISK"/>
                        <property name="localBackupDir"         value="C:\FileStorage\backup\@{if_id}"/>
                        <property name="localSuccessDir"        value="C:\FileStorage\success\@{if_id}"/>
                    </bean>
                    <bean class="mb.dnm.access.file.FileTemplate">
                        <property name="templateName"           value="FTP2"/>
                        <property name="remoteReceiveDir"       value="/@{if_id}/receive"/>
                    </bean>
                </list>
            </property>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="FILE_WRITE_IF_TEST"/>
            <property name="description"            value="FILE 인터페이스 테스트"/>
            <property name="serviceId"              value="FILE_WRITE"/>
            <property name="sourceAliases"          value="TGT:LOCAL_DISK, TGT_2:FTP2"/>
            <property name="querySequence"          value="DB1$@{if_id}.SELECT"/>
            <property name="fileTemplates">
                <list>
                    <bean class="mb.dnm.access.file.FileTemplate">
                        <property name="templateName"           value="LOCAL_DISK"/>
                        <property name="localReceiveDir"        value="C:\FileStorage\receive\@{if_id}"/>
                        <property name="fileName"               value="FILE_SAMPLE.txt"/>
                        <property name="charset"                value="UTF-8"/>
                    </bean>
                    <bean class="mb.dnm.access.file.FileTemplate">
                        <property name="templateName"           value="FTP2"/>
                        <property name="remoteReceiveDir"       value="/@{if_id}/receive"/>
                    </bean>
                </list>
            </property>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="FILE_READ_IF_TEST"/>
            <property name="description"            value="FILE 인터페이스 테스트"/>
            <property name="serviceId"              value="FILE_READ_AND_PARSE"/>
            <property name="sourceAliases"          value="TGT:LOCAL_DISK"/>
            <property name="fileTemplates">
                <list>
                    <bean class="mb.dnm.access.file.FileTemplate">
                        <property name="templateName"           value="LOCAL_DISK"/>
                        <property name="charset"                value="UTF-8"/>
                        <property name="dataType"               value="PARSED_TEXT"/>
                        <property name="type"                   value="FILE"/>
                    </bean>
                </list>
            </property>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="ITERATE_IF_TEST"/>
            <property name="description"            value="ITERATE 인터페이스 테스트"/>
            <property name="serviceId"              value="ITERATE_PROCESS"/>
            <property name="querySequence"          value="DB1$@{if_id}.SELECT,DB1$@{if_id}.SELECT_INNER"/>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="CALL_PROCEDURE_IF_TEST"/>
            <property name="description"            value="CALL_PROCEDURE 인터페이스 테스트"/>
            <property name="serviceId"              value="CALL_PROCEDURE_AND_FETCH"/>
            <property name="querySequence"          value="DB1$@{if_id}.SELECT,DB1$@{if_id}.CALL_RETURN_A_ROW, DB1$@{if_id}.FETCH"/>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="CALL_PROCEDURE_IF_TEST_"/>
            <property name="description"            value="CALL_PROCEDURE 인터페이스 테스트"/>
            <property name="serviceId"              value="CALL_PROCEDURE_TEST"/>
            <property name="querySequence"          value="DB1$@{if_id}.SELECT,DB1$@{if_id}.CALL_RETURN_MULTI_ROWS"/>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="CURSOR_TEST_IF"/>
            <property name="description"            value="CURSOR 테스트"/>
            <property name="serviceId"              value="FETCHED_SELECT"/>
            <property name="querySequence"          value="DB1$@{if_id}.OPEN_CURSOR,DB1$@{if_id}.FETCH"/>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="ITERATE_IF_TEST_2"/>
            <property name="description"            value="ITERATE 인터페이스 테스트"/>
            <property name="serviceId"              value="ITER_TEST"/>
            <property name="querySequence"          value="DB1$@{if_id}.SELECT,DB1$@{if_id}.UPDATE"/>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="JMS_IF_TEST"/>
            <property name="description"            value="JMS 인터페이스 테스트"/>
            <property name="serviceId"              value="JMS_TEST"/>
            <property name="sourceAliases"          value="SRC:ESB"/>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="SIZE_IF_TEST"/>
            <property name="description"            value="SIZE 인터페이스 테스트"/>
            <property name="serviceId"              value="SIZE_TEST"/>
            <property name="querySequence"          value="DB1$@{if_id}.SELECT"/>
        </bean>


        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="HTTP_IF_TEST"/>
            <property name="description"            value="HTTP 인터페이스 테스트"/>
            <property name="frontHttpUrl"           value="/@{if_id}"/>
            <property name="frontHttpMethod"        value="GET, POST"/>
            <property name="serviceId"              value="HTTP_TEST"/>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="CRYPTO_IF_TEST"/>
            <property name="description"            value="암호화 인터페이스 테스트"/>
            <property name="frontHttpUrl"           value="/@{if_id}"/>
            <property name="frontHttpMethod"        value="GET, POST"/>
            <property name="serviceId"              value="CRYPTO_TEST"/>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="CRYPTO_IF_TEST2"/>
            <property name="description"            value="암호화 인터페이스 테스트"/>
            <property name="serviceId"              value="CRYPTO_GEN"/>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="HTTP_TEMPLATE_IF_TEST"/>
            <property name="description"            value="HTTP 템플릿 인터페이스 테스트"/>
            <property name="httpAPITemplate">
                <bean class="mb.dnm.access.http.HttpAPITemplate">
                    <property name="frontUrl"           value="/@{if_id}"/>
                    <property name="frontMethods"       value="GET, POST"/>
                    <property name="contentTypes"       value="application/json, application/xml"/>
                </bean>
            </property>
            <property name="serviceId"              value="HTTP_TEMPLATE_TEST"/>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="DYNAMIC_TEST_IF"/>
            <property name="description"            value="DYNAMIC 인터페이스 테스트"/>
            <property name="frontHttpUrl"           value="/@{if_id}"/>
            <property name="frontHttpMethod"        value="GET, POST"/>
            <property name="dynamicCodeSequence"    value="@{if_id}.TEST1, @{if_id}.TEST2"/>
            <property name="serviceId"              value="DYNAMIC_TEST"/>
            <property name="errorHandlerId"         value=""/>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="INTERFACE_CONTROLLER"/>
            <property name="controllerInterface"    value="true"/>
            <property name="frontHttpUrl"           value="/if-control"/>
            <property name="frontHttpMethod"        value="POST"/>
            <property name="loggingWhenNormal"      value="false"/>
            <property name="loggingWhenError"       value="false"/>
            <property name="serviceId"              value="INTERFACE_ACTIVATION"/>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo">
            <property name="interfaceId"            value="FILE_MOVEMENT"/>
            <property name="description"            value="FTP 인터페이스 테스트"/>
            <property name="serviceId"              value="FILE_MOVEMENT"/>
            <property name="sourceAliases"          value="SRC:SRC, TGT:FTP2"/>
            <property name="fileTemplates">
                <list>
                    <bean class="mb.dnm.access.file.FileTemplate">
                        <property name="templateName"        value="SRC"/>
                        <property name="localSendDir"        value="E:\"/>
                        <property name="localSuccessDir"     value="D:\백업\SD카드백업"/>

                        <property name="fileNamePattern"     value="202408*"/>
                        <property name="type"                value="DIRECTORY"/>
                    </bean>
                </list>
            </property>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo"  name="DB2DB master detail 2:1">
            <property name="interfaceId"            value="?{인터페이스_ID}"/>
            <property name="interfaceName"          value="?{인터페이스명}"/>
            <property name="sourceCode"             value="?{송신시스템_코드}"/>
            <property name="targetCode"             value="?{수신시스템_코드}"/>
            <property name="loggingWhenNormal"      value="true"/>
            <property name="loggingWhenError"       value="true"/>
            <property name="sourceAliases"          value="MQ:ESB"/>
            <property name="querySequence"          value="?{송신_DB_템플릿명}$@{if_id}.SELECT_M, ?{송신_DB_템플릿명}$@{if_id}.SELECT_D, ?{수신_DB_템플릿명}$@{if_id}.INSERT, ?{송신_DB_템플릿명}$@{if_id}.SUCCESS_UPDATE"/>
            <property name="errorQuerySequence"     value="?{송신_DB_템플릿명}$@{if_id}.ERROR_UPDATE"/>
            <property name="dynamicCodeSequence"    value="@{if_id}.MAP_DATA"/>
            <property name="serviceId"              value="$P_DB2DB_master_detail_2:1"/>
            <property name="errorHandlerId"         value="$EH_DB2DB"/>
        </bean>

        <bean class="mb.dnm.storage.InterfaceInfo"  name="DB2DB master detail 2:2">
            <property name="interfaceId"            value="?{인터페이스_ID}"/>
            <property name="interfaceName"          value="?{인터페이스명}"/>
            <property name="sourceCode"             value="?{송신시스템_코드}"/>
            <property name="targetCode"             value="?{수신시스템_코드}"/>
            <property name="loggingWhenNormal"      value="true"/>
            <property name="loggingWhenError"       value="true"/>
            <property name="sourceAliases"          value="MQ:ESB"/>
            <property name="querySequence"          value="?{송신_DB_템플릿명}$@{if_id}.SELECT_M, ?{송신_DB_템플릿명}$@{if_id}.SELECT_D, ?{수신_DB_템플릿명}$@{if_id}.INSERT, ?{송신_DB_템플릿명}$@{if_id}.SUCCESS_UPDATE"/>
            <property name="errorQuerySequence"     value="?{송신_DB_템플릿명}$@{if_id}.ERROR_UPDATE"/>
            <property name="serviceId"              value="$P_DB2DB_master_detail_2:2"/>
            <property name="errorHandlerId"         value="$EH_DB2DB"/>
        </bean>
    </util:list>


</beans>