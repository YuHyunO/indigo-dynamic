# Indigo-Dynamic-Adapter

## ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ë°°ê²½](#í”„ë¡œì íŠ¸-ë°°ê²½)
2. [í”„ë¡œì íŠ¸ ê°œìš”](#í”„ë¡œì íŠ¸-ê°œìš”)
3. [ì•„í‚¤í…ì²˜ ê°œìš”](#ì•„í‚¤í…ì²˜-ê°œìš”)
4. [í•µì‹¬ êµ¬ì„± ìš”ì†Œ](#í•µì‹¬-êµ¬ì„±-ìš”ì†Œ)
5. [ì£¼ìš” ê¸°ëŠ¥](#ì£¼ìš”-ê¸°ëŠ¥)
6. [Service êµ¬í˜„](#service-êµ¬í˜„)
7. [ì„¤ê³„ êµ¬ì¡°](#ì„¤ê³„-êµ¬ì¡°)
8. [ê°œë°œ í™˜ê²½ ì„¤ì •](#ê°œë°œ-í™˜ê²½-ì„¤ì •)
9. [ì„¤ì • íŒŒì¼ êµ¬ì¡°](#ì„¤ì •-íŒŒì¼-êµ¬ì¡°)
10. [ì‘ì—… ì´ë ¥](#ì‘ì—…-ì´ë ¥)
11. [ì°¸ê³  ìë£Œ](#ì°¸ê³ -ìë£Œ)
12. [ë¶€ë¡](#ë¶€ë¡)

---

## í”„ë¡œì íŠ¸ ë°°ê²½

### í”„ë¡œì íŠ¸ ìš”ì•½

Indigo-Dynamic-AdapterëŠ” **TIBCO BusinessWorksë¥¼ ìì‚¬ ì†”ë£¨ì…˜ìœ¼ë¡œ ëŒ€ì²´í•˜ëŠ” ìœˆë°± í”„ë¡œì íŠ¸**ì—ì„œ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤. ì¸ë ¥ ë¶€ì¡±, ì§§ì€ í”„ë¡œì íŠ¸ ê¸°ê°„, ìì‚¬ ì†”ë£¨ì…˜ìœ¼ë¡œ ëŒ€ì²´ ë¶ˆê°€í•œ ê¸°ëŠ¥ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ **ì»´í¬ë„ŒíŠ¸ ì¡°ë¦½ ë°©ì‹ì˜ ì—°ê³„ ì–´ëŒ‘í„°**ë¥¼ ê°œë°œí•˜ì—¬ ë‹¤ìŒ ì„±ê³¼ë¥¼ ë‹¬ì„±í–ˆìŠµë‹ˆë‹¤:

- ğŸ”µ**ìƒì‚°ì„± 50% ì´ìƒ ì¦ëŒ€** â†’ ì •í•´ì§„ ê¸°ê°„ ë‚´ í”„ë¡œì íŠ¸ ì™„ìˆ˜ì˜ í•µì‹¬ ì—­í• 
- ğŸ”µ**ê¸°ì¡´ í”„ë¡œì„¸ìŠ¤ë¥¼ 100% ë™ì¼í•˜ê²Œ ëŒ€ì²´**
- ğŸ”µ**ì„±ëŠ¥/ì†ë„ëŠ” TIBCO BWì™€ ë™ì¼ ìˆ˜ì¤€ìœ¼ë¡œ ìœ ì§€**
- ğŸ”µê³ ê° ë‹´ë‹¹ ë¶€ì„œì˜ **ì¸í„°í˜ì´ìŠ¤ í™•ì¥ì„±Â·ìœ ì§€ë³´ìˆ˜ì„± ê·¹ëŒ€í™”**

### í”„ë¡œì íŠ¸ ê°œìš”

ìœˆë°± í”„ë¡œì íŠ¸ì˜ ë°°ê²½ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

- ğŸ”µ**TIBCO BusinessWorks(TIBCO BW)ë¥¼ ìì‚¬ ì†”ë£¨ì…˜ìœ¼ë¡œ ëŒ€ì²´** â†’ ìœˆë°± í”„ë¡œì íŠ¸
- ğŸ”µ**TIBCO BWì˜ ë†’ì€ ìœ ì§€ë³´ìˆ˜ ë¹„ìš©** â†’ ê³ ê°ì‚¬ì˜ ì—°ê°„ ìœ ì§€ë¹„ìš© ë¶€ë‹´
- ğŸ”µ**TIBCO BWì„ ë‹´ë‹¹í•˜ë˜ ì§ì›ì˜ í‡´ì‚¬ë¡œ ì¸í•œ ì „ë‹´ ê´€ë¦¬ ì¸ë ¥ ë¶€ì¬** â†’ ì¸í„°í˜ì´ìŠ¤ í˜„í™© íŒŒì•… ë¶ˆê°€
- ğŸ”µ**ì™¸ì‚° ì†”ë£¨ì…˜ì˜ íŠ¹ì„± ìƒ ì›í™œí•˜ì§€ ì•Šì€ ì§€ì› ë¬¸ì œ** â†’ ì¸í„°í˜ì´ìŠ¤ ê´€ë¦¬ ë° ì¶”ê°€ ì–´ë ¤ì›€

### í”„ë¡œì íŠ¸ ìˆ˜í–‰ ê³¼ì •

#### 1. ë¶„ì„ (08.19 ~ 09.02)

ìœˆë°± í”„ë¡œì íŠ¸ëŠ” **AS-IS ë¶„ì„ì´ ë§¤ìš° ì¤‘ìš”**í•©ë‹ˆë‹¤. ê¸°ì¡´ ì‹œìŠ¤í…œì˜ êµ¬ì¡°, ë¡œì§, ì˜ì¡´ì„± ë“±ì„ ì •í™•íˆ íŒŒì•…í•˜ëŠ” ê²ƒì´ í•µì‹¬ì´ë©°, ìƒˆë¡œìš´ ì†Œí”„íŠ¸ì›¨ì–´ë¡œ í˜¸í™˜ì„±Â·ì„±ëŠ¥Â·ë°ì´í„°ì •í•©ì„±/ë¬´ê²°ì„± ë¬¸ì œ ì—†ì´ ë™ì¼í•˜ê²Œ ëŒ€ì²´í•´ì•¼ í•©ë‹ˆë‹¤.

ë¶„ì„ ê³¼ì •ì„ í†µí•´ ë‹¤ìŒ ë‚´ìš©ì„ íŒŒì•…í–ˆìŠµë‹ˆë‹¤:

- ğŸ”´**ë¦¬ëˆ…ìŠ¤Â·JDK 1.7 ë²„ì „**: 2016ë…„ TIBCO BW ë¶€ë¶„ ì „í™˜ì„ ìœ„í•´ ì„¤ì¹˜ë˜ì—ˆë˜ ìì‚¬ ì†”ë£¨ì…˜ê³¼ì˜ í˜¸í™˜ì„ ìœ„í•´ ì´ë¯¸ ì„¤ì¹˜ëœ JDK 1.7 ë²„ì „ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•´ì•¼ í•¨
- ğŸ”´**628ê°œê°€ ë„˜ëŠ” ê°œìˆ˜ì˜ ì¸í„°í˜ì´ìŠ¤** â†’ ë¯¸ëŒ€ìƒÂ·ì¤‘ë³µì„ ê°„ì¶”ë ¤ ìµœì¢… 215ê°œì˜ ëª©ë¡ ë„ì¶œ
- ğŸ”´**ì—°ê³„ ëŒ€ìƒ 15ê°œ ì‹œìŠ¤í…œì˜ ì ‘ì† ì •ë³´ ë° í™˜ê²½ ì¡°ì‚¬ ì™„ë£Œ** (JDBC ì ‘ì†ì •ë³´, ê¶Œí•œ, FTP ì„œë²„ ì ‘ì† ì •ë³´ ë“±)
- ğŸ”´ì—°ê³„ ì†”ë£¨ì…˜ ì„œë²„ì™€ ì—°ê³„ëŒ€ìƒ ì„œë²„ ê°„ ë°©í™”ë²½ ì—¬ë¶€ í™•ì¸ ë° ì¶”ê°€ í—ˆìš© ìš”ì²­
- ğŸ”´**TIBCO BW ì„¤ì • ë° ì˜ë¬¸ ë§¤ë‰´ì–¼ ë¶„ì„&í•´ì„** â†’ ìƒì„¸í•œ AS-IS í”„ë¡œì„¸ìŠ¤ ì¡°ì‚¬/ì •ë¦¬
- ğŸ”´**ë°ì´í„° ë³€í™˜/ë§¤í•‘Â·ì¡°ê±´ ë¶„ê¸°Â·ë¬´ê²°ì„± ê²€ì¦ ë¡œì§ì´ í¬í•¨ëœ ë³µì¡í•œ ê²½ìš°ê°€ ë‹¤ìˆ˜**

#### 2. ë¬¸ì œ ì¸ì‹

ë¶„ì„ ê³¼ì •ì—ì„œ ë§ë‹¥ëœ¨ë¦° ë¬¸ì œë“¤:

- âš ï¸**ì¸ë ¥ ë¶€ì¡±** â†’ ì•½ 4ê°œì›” ê°„ì˜ í”„ë¡œì íŠ¸ì—ì„œ ê´€ë¦¬/ê°œë°œ ë“± ì „ ê³¼ì •ì„ í™€ë¡œ ì™„ìˆ˜í•´ì•¼ í•¨
- âš ï¸**ë³µì¡í•œ í”„ë¡œì„¸ìŠ¤, ë§ì€ ê°œìˆ˜ì˜ ì¸í„°í˜ì´ìŠ¤**
- âš ï¸**ìì‚¬ ì†”ë£¨ì…˜ì˜ í•œê³„**
  - ê¸°ë³¸ ë‚´ì¥ ì–´ëŒ‘í„°ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìˆ˜ì¤€ì˜ ë³µì¡í•œ ë°ì´í„° ì—°ê³„ë¥¼ ë¯¸ì§€ì›
- âš ï¸í‘œì¤€í™”ë¥¼ í•˜ê¸°ì—ëŠ” **ê¸°ì¡´ í”„ë¡œì„¸ìŠ¤ì˜ ë‹¤ì–‘ì„±ì´ ìƒë‹¹íˆ í¼**
- âš ï¸í‘œì¤€í™” í¬ê¸°Â·í•˜ë“œì½”ë”© ì‹œ ìœ ì§€ë³´ìˆ˜ ë° ì‹ ê·œ ê°œë°œ ì–´ë ¤ì›€

ğŸš¨â†’ ë†’ì€ ë‚œì´ë„ì™€ í”„ë¡œì íŠ¸ ì§€ì—° ê°€ëŠ¥ì„±

#### 3. ëª©í‘œ ì„¤ì • ë° ì˜ì‚¬ ê²°ì •

ğŸ¯**ëª©í‘œ**:
- ğŸŸ¢ì •í•´ì§„ ê¸°ê°„ ë‚´ í”„ë¡œì íŠ¸ ì™„ìˆ˜
- ğŸŸ¢ê³ ê° ë‹´ë‹¹ ë¶€ì„œì˜ ì¸í„°í˜ì´ìŠ¤ ê´€ë¦¬ ì–´ë ¤ì›€ ë¬¸ì œ í•´ê²°
- ğŸŸ¢ìì‚¬ ì†”ë£¨ì…˜ ê¸°ë°˜ì—ì„œ ê³ ê°ì´ ì§ì ‘ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°œë°œí•  ìˆ˜ ìˆëŠ” í”Œë«í¼ ì œê³µ

**ì˜ì‚¬ ê²°ì •**:

> ğŸŸ¢TIBCO BWì˜ Activity ì¡°ë¦½ êµ¬ì¡°ë¥¼ ë²¤ì¹˜ë§ˆí‚¹, ì¡°í•©í˜• ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ì›Œí¬í”Œë¡œìš° ìƒì„± ë°©ì‹ ì–´ëŒ‘í„° ê°œë°œì„ ê²°ì •
>
> â†’ Low-Code ë°©ì‹ ì–´ëŒ‘í„°ë¥¼ ë§Œë“¤ì–´ ìƒì‚°ì„±ë„ ë†’ì´ê³  ê°œë°œÂ·ê´€ë¦¬ë¥¼ ì‰½ê²Œ í•˜ì!

---

## í”„ë¡œì íŠ¸ ê°œìš”

Indigo-Dynamic-AdapterëŠ” INDIGO ESB ì†”ë£¨ì…˜ì„ ê¸°ë°˜ìœ¼ë¡œ ì‘ë™í•˜ëŠ” ë°ì´í„° ì—°ê³„ ëª¨ë“ˆì…ë‹ˆë‹¤. ì´ ëª¨ë“ˆì€ DB, FTP, íŒŒì¼, HTTP, JMS ë“± ë‹¤ì–‘í•œ í”„ë¡œí† ì½œ ê°„ ë°ì´í„° ì—°ê³„ í”„ë¡œì„¸ìŠ¤ë¥¼ ì§€ì›í•˜ë©°, Spring Bean XML ë¬¸ë²•ì„ í™œìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ ì¡°í•© ë°©ì‹ìœ¼ë¡œ ì†ì‰½ê²Œ ë°ì´í„° ì—°ê³„ í”„ë¡œì„¸ìŠ¤ë¥¼ ê°œë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì»´í¬ë„ŒíŠ¸ ì¡°ë¦½ ë°©ì‹**ì€ TIBCO BusinessWorksì˜ Activity ì¡°ë¦½ êµ¬ì¡°ë¥¼ ë²¤ì¹˜ë§ˆí‚¹í•˜ì—¬ ê°œë°œë˜ì—ˆìœ¼ë©°, Low-Code ë°©ì‹ìœ¼ë¡œ ì¸í„°í˜ì´ìŠ¤ ê°œë°œ ìƒì‚°ì„±ì„ í–¥ìƒì‹œí‚¤ê³  ìœ ì§€ë³´ìˆ˜ì„±ì„ ê·¹ëŒ€í™”í•©ë‹ˆë‹¤.

ê¸°ë³¸ ì•„í‚¤í…ì³
![architecture-1](img/architecture-1.png)

ì„œë¹„ìŠ¤(ê¸°ëŠ¥) ì»´í¬ë„ŒíŠ¸ ì¡°í•© ì˜ˆì‹œ
![service-process-example](img/service-process-example.png)


### ì£¼ìš” íŠ¹ì§•

- ğŸ”µ**ìœ ì—°ì„±**: ë‹¤ì–‘í•œ í”„ë¡œí† ì½œê³¼ ë°ì´í„° ì†ŒìŠ¤ ì§€ì›
- ğŸ”µ**í™•ì¥ì„±**: ì»´í¬ë„ŒíŠ¸ ì¡°í•© ë°©ì‹ìœ¼ë¡œ í”„ë¡œì„¸ìŠ¤ êµ¬ì„±
- ğŸ”µ**ìœ ì§€ë³´ìˆ˜ì„±**: ì„¤ì • ê¸°ë°˜ ê°œë°œë¡œ ì½”ë“œ ìˆ˜ì • ìµœì†Œí™”
- ğŸ”µ**Dynamic-Code ê¸°ëŠ¥**: ì›¹ ì½˜ì†”ì—ì„œ ì§ì ‘ Java ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ìš´ì˜ í™˜ê²½ì— ì¦‰ì‹œ ë°°í¬ ê°€ëŠ¥
- ğŸ”µ**íŠ¸ëœì­ì…˜ ê´€ë¦¬**: DB ì‘ì—… ì‹œ ìë™ íŠ¸ëœì­ì…˜ ê´€ë¦¬ ë° ë¡¤ë°± ì§€ì›
- ğŸ”µ**ì—ëŸ¬ ì²˜ë¦¬**: ì²´ê³„ì ì¸ ì—ëŸ¬ í•¸ë“¤ë§ ë° ë³µêµ¬ ë©”ì»¤ë‹ˆì¦˜

---

## ì•„í‚¤í…ì²˜ ê°œìš”

Indigo-Dynamic-AdapterëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìš”ì†Œë¡œ êµ¬ì„±ë˜ì—ˆìŠµë‹ˆë‹¤:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Dispatcher                         â”‚
â”‚  (SimpleDispatcher, HttpRequestDispatcher)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Service Processor                     â”‚
â”‚  (ServiceProcessor: Service-Chaining, Error-Handling)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Service                            â”‚
â”‚  (DB, FTP, File, HTTP, Dynamic Code Services)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Storage & Provider                       â”‚
â”‚  (StorageManager, DataSourceProvider, FTPSourceProvider)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
![architecture-2](img/architecture-2.png)

### ë°ì´í„° íë¦„

```mermaid
flowchart TD
    A[ì¸í„°í˜ì´ìŠ¤ ì´ë²¤íŠ¸ ë°œìƒ] --> B[Dispatcherê°€ ì´ë²¤íŠ¸ ìˆ˜ì‹ ]
    B --> C[StorageManagerì—ì„œ InterfaceInfo ì¡°íšŒ]
    C --> D["ServiceContext ìƒì„±<br/>(txId, ì‹œì‘ì‹œê°„ ë“± ì´ˆê¸°í™”)"]
    D --> E[ServiceProcessor.unfoldServices í˜¸ì¶œ]
    E --> F[Service-Chaining ì‹¤í–‰]
    
    F --> G["ê° Service: Input ë°ì´í„° ì¡°íšŒ<br/>(ServiceContextì—ì„œ)"]
    G --> H[Service ê¸°ëŠ¥ ìˆ˜í–‰]
    H --> I["ê²°ê³¼ë¥¼ ServiceContextì—<br/>Outputìœ¼ë¡œ ì €ì¥"]
    I --> J{ë‹¤ìŒ Service ì¡´ì¬?}
    J -->|ì˜ˆ| G
    J -->|ì•„ë‹ˆì˜¤| K{ì—ëŸ¬ ë°œìƒ?}
    
    K -->|ì˜ˆ| L[Error-Handling ì‹¤í–‰]
    L --> M[ErrorHandler ì¡°íšŒ]
    M --> N["ì—ëŸ¬ ì²˜ë¦¬ ì „ëµ ì‹¤í–‰<br/>(Rollback, ì•Œë¦¼, ëŒ€ì²´ ê²½ë¡œ ë“±)"]
    N --> O[Callback ì‹¤í–‰]
    
    K -->|ì•„ë‹ˆì˜¤| O
    O --> P[TransactionCleanupCallback]
    P --> Q[SessionCleanupCallback]
    Q --> R[ì»¤ìŠ¤í…€ Callback]
    R --> S[ServiceContext ì†Œë©¸]
```
![life-cycle-of-a-service-context](img/life-cycle-of-a-service-context.png)

---

## í•µì‹¬ êµ¬ì„± ìš”ì†Œ

### 1. Dispatcher (ë¶„ë°°ê¸°)

ì¸í„°í˜ì´ìŠ¤ ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ í•˜ê³  í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ IDì™€ ë§¤í•‘ëœ í”„ë¡œì„¸ìŠ¤ë¥¼ í˜¸ì¶œí•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

#### ì£¼ìš” í´ë˜ìŠ¤

- ğŸ”µ**`SimpleDispatcher`**: ê¸°ë³¸ ì¸í„°í˜ì´ìŠ¤ ì´ë²¤íŠ¸ ë¶„ë°°ê¸°
  - `interfaceId`ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ `InterfaceInfo`ë¥¼ ì¡°íšŒ
  - ì¸í„°í˜ì´ìŠ¤ í™œì„±í™” ì—¬ë¶€ í™•ì¸
  - `ServiceContext` ìƒì„± ë° `ServiceProcessor` í˜¸ì¶œ
  - ìŠ¤ì¼€ì¥´ ì‘ì—… ë“±ì—ì„œ `SimpleDispatcher`ë¥¼ í˜¸ì¶œí•˜ì—¬ ì¸í„°í˜ì´ìŠ¤ í”„ë¡œì„¸ìŠ¤ ì‹œì‘ ê°€ëŠ¥

- ğŸ”µ**`HttpRequestDispatcher`**: HTTP ìš”ì²­ ê¸°ë°˜ ë¶„ë°°ê¸°
  - HTTP ìš”ì²­ URLê³¼ Methodë¥¼ ê¸°ë°˜ìœ¼ë¡œ `InterfaceInfo` ë§¤í•‘
  - HTTP í—¤ë”, íŒŒë¼ë¯¸í„°, ë°”ë””ë¥¼ `ServiceContext`ì— ì €ì¥
  - HTTP ì‘ë‹µ ì²˜ë¦¬ ë° ë°˜í™˜

### 2. Service Processor (ì„œë¹„ìŠ¤ í”„ë¡œì„¸ì„œ)

í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤ì œë¡œ ìˆ˜í–‰í•˜ëŠ” í•µì‹¬ ëª¨ë“ˆë¡œ, `ServiceProcessor.unfoldServices(ServiceContext)` ë©”ì†Œë“œë¥¼ í†µí•´ Service-Chaining, Error-Handling, Callbackì„ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤.

#### Service-Chaining (ì„œë¹„ìŠ¤ ì²´ì´ë‹)
![service-chaining](img/service-chaining.png)
**ì‹¤í–‰ í”„ë¡œì„¸ìŠ¤**:
1. `InterfaceInfo`ì—ì„œ `serviceId`ë¥¼ ì¡°íšŒí•˜ì—¬ Service-Strategy ëª©ë¡ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
2. ê° Serviceë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•˜ë©°, ì‹¤í–‰ ì „ `processOn` í”Œë˜ê·¸ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
3. ê° Service ì‹¤í–‰ ì „í›„ë¡œ `ServiceTrace`ì— ì‹¤í–‰ ì´ë ¥ì„ ê¸°ë¡í•©ë‹ˆë‹¤.
4. Service ì‹¤í–‰ ì¤‘ ì˜ˆì™¸ ë°œìƒ ì‹œ:
   - `ignoreError`ê°€ `true`ì¸ ê²½ìš°: ì—ëŸ¬ë¥¼ ë¬´ì‹œí•˜ê³  ë‹¤ìŒ Serviceë¡œ ì§„í–‰
   - `ignoreError`ê°€ `false`ì¸ ê²½ìš°: `ErrorTrace`ì— ì—ëŸ¬ ì •ë³´ë¥¼ ê¸°ë¡í•˜ê³  Error-Handling ë‹¨ê³„ë¡œ ì´ë™
5. Service ì‹¤í–‰ í›„ `processOn` í”Œë˜ê·¸ê°€ `false`ë¡œ ë³€ê²½ëœ ê²½ìš° Service-Chainingì„ ì¤‘ë‹¨í•©ë‹ˆë‹¤.
6. ê° Serviceì˜ ì„±ê³µ/ì‹¤íŒ¨ ì—¬ë¶€ì— ë”°ë¼ `ProcessCode`ë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤:
   - ì •ìƒ ì¢…ë£Œ: `SUCCESS`
   - ê°•ì œ ì‹¤íŒ¨: `ENFORCED_FAILURE` â†’ `FAILURE`ë¡œ ë³€ê²½
   - ì—ëŸ¬ ë°œìƒ: `FAILURE`

![service-process](img/service-process.png)

**ì£¼ìš” íŠ¹ì§•**:
- **Service Trace**: ì‹¤í–‰ëœ Service í´ë˜ìŠ¤ ëª©ë¡ì„ `ServiceContext`ì— ì €ì¥í•˜ì—¬ ë””ë²„ê¹… ë° ëª¨ë‹ˆí„°ë§ ì§€ì›
- **í”„ë¡œì„¸ìŠ¤ ì œì–´**: `ServiceContext.processOn` í”Œë˜ê·¸ë¥¼ í†µí•´ Service-Chaining ì¤‘ë‹¨ ê°€ëŠ¥
- **ì—ëŸ¬ ë¬´ì‹œ ì˜µì…˜**: Serviceë³„ `ignoreError` ì„¤ì •ìœ¼ë¡œ íŠ¹ì • Serviceì˜ ì—ëŸ¬ë¥¼ ë¬´ì‹œí•˜ê³  ê³„ì† ì§„í–‰ ê°€ëŠ¥
- **ìƒíƒœ ì¶”ì **: ê° Service ì‹¤í–‰ ì‹œì ì˜ ì‹œì‘/ì¢…ë£Œ ì‹œê°„ì„ `ServiceContext.endTime`ì— ê¸°ë¡

#### Error-Handling (ì—ëŸ¬ ì²˜ë¦¬)

**ì‹¤í–‰ í”„ë¡œì„¸ìŠ¤**:
1. Service-Chaining ì¤‘ `Throwable` ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´ catch ë¸”ë¡ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.
2. `InterfaceInfo`ì˜ `errorHandlerId`ë¥¼ í†µí•´ ë“±ë¡ëœ Error-Handler ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
3. ê° Error-Handlerì˜ `isTriggered(Throwable.class)` ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ í•´ë‹¹ ì˜ˆì™¸ íƒ€ì…ì— ëŒ€í•´ íŠ¸ë¦¬ê±° ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
4. íŠ¸ë¦¬ê±°ëœ Error-Handlerë§Œ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤.
5. Error-Handler ì‹¤í–‰ ì¤‘ì—ë„ ì˜ˆì™¸ê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë©°, ì´ ê²½ìš° ë‹¤ìŒ Error-Handlerë¡œ ê³„ì† ì§„í–‰í•©ë‹ˆë‹¤.
6. ëª¨ë“  Error-Handler ì‹¤í–‰ í›„ Callback ë‹¨ê³„ë¡œ ì´ë™í•©ë‹ˆë‹¤.

**ì£¼ìš” íŠ¹ì§•**:
- **ì˜ˆì™¸ íƒ€ì…ë³„ ì²˜ë¦¬**: `ErrorHandler.isTriggered()` ë©”ì†Œë“œë¥¼ í†µí•´ íŠ¹ì • ì˜ˆì™¸ íƒ€ì…ì—ë§Œ ë°˜ì‘í•˜ë„ë¡ ì„¤ì • ê°€ëŠ¥
- **ë‹¤ì¤‘ Error-Handler ì§€ì›**: ì—¬ëŸ¬ Error-Handlerë¥¼ ë“±ë¡í•˜ì—¬ ë‹¤ì–‘í•œ ì—ëŸ¬ ìƒí™©ì— ëŒ€ì‘ ê°€ëŠ¥
- **ì—ëŸ¬ ì¶”ì **: `ServiceContext.addErrorTrace()`ë¥¼ í†µí•´ ì—ëŸ¬ ë°œìƒ ìœ„ì¹˜ì™€ ìƒì„¸ ì •ë³´ë¥¼ ê¸°ë¡
- **Error-Handler ë‚´ë¶€ ì„œë¹„ìŠ¤ í˜¸ì¶œ**: Error-Handler ë‚´ì—ì„œë„ ë‹¤ë¥¸ Serviceë¥¼ í˜¸ì¶œí•˜ì—¬ ë³µêµ¬ ì‘ì—… ìˆ˜í–‰ ê°€ëŠ¥
- **Error Query/Dynamic Code Sequence**: ì—ëŸ¬ ì²˜ë¦¬ ì‹œ ë³„ë„ì˜ ì¿¼ë¦¬ ì‹œí€€ìŠ¤ì™€ ë™ì  ì½”ë“œ ì‹œí€€ìŠ¤ ì‹¤í–‰ ê°€ëŠ¥

**ErrorHandler ì¸í„°í˜ì´ìŠ¤**:
```java
public interface ErrorHandler {
    // ì˜ˆì™¸ íƒ€ì…ì— ë”°ë¼ íŠ¸ë¦¬ê±° ì—¬ë¶€ ê²°ì •
    boolean isTriggered(Class<? extends Throwable> clazz);
    
    // ì—ëŸ¬ ì²˜ë¦¬ ë¡œì§ ìˆ˜í–‰
    void handleError(ServiceContext ctx) throws Throwable;
}
```

#### Callback (ì½œë°±)

**ì‹¤í–‰ í”„ë¡œì„¸ìŠ¤**:
1. Service-Chainingê³¼ Error-Handlingì´ ëª¨ë‘ ì™„ë£Œëœ í›„ `finally` ë¸”ë¡ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.
2. ë“±ë¡ëœ ëª¨ë“  `AfterProcessCallback`ì„ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤.
3. ê° Callback ì‹¤í–‰ ì¤‘ ì˜ˆì™¸ê°€ ë°œìƒí•´ë„ ë‹¤ìŒ Callback ì‹¤í–‰ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŠµë‹ˆë‹¤.

**ê¸°ë³¸ Callback**:

1. **TransactionCleanupCallback** (`mb.dnm.core.callback.TransactionCleanupCallback`):
   - `ServiceContext`ì˜ ëª¨ë“  `TransactionContext`ë¥¼ ìˆœíšŒí•©ë‹ˆë‹¤.
   - `constant` í”Œë˜ê·¸ê°€ ì„¤ì •ëœ ExecutorëŠ” ì •ë¦¬ ëŒ€ìƒì—ì„œ ì œì™¸ë©ë‹ˆë‹¤.
   - ë¯¸ì¢…ë£Œëœ íŠ¸ëœì­ì…˜ì´ ìˆëŠ” ê²½ìš°:
     - `ServiceContext.isErrorExist()`ê°€ `true`ì´ë©´ Rollback
     - `false`ì´ë©´ Commit
   - Spring `TransactionSynchronizationManager`ë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¸ëœì­ì…˜ ìƒíƒœë¥¼ ë³µì›í•˜ê³  ì •ë¦¬í•©ë‹ˆë‹¤.
   - Constant Executorì˜ ë¦¬ì†ŒìŠ¤ëŠ” `TransactionSynchronizationManager`ì—ì„œ ì œê±°í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

2. **SessionCleanupCallback** (`mb.dnm.core.callback.SessionCleanupCallback`):
   - `ServiceContext`ì˜ `sessionMap`ì— ì €ì¥ëœ ëª¨ë“  `ClosableStreamWrapper` ì„¸ì…˜ì„ ìˆœíšŒí•©ë‹ˆë‹¤.
   - ê° ì„¸ì…˜ì˜ `close()` ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ë¦¬ì†ŒìŠ¤ë¥¼ í•´ì œí•©ë‹ˆë‹¤.
   - ì„¸ì…˜ ì •ë¦¬ í›„ `sessionMap`ì„ ë¹„ì›ë‹ˆë‹¤.

**ì»¤ìŠ¤í…€ Callback ë“±ë¡**:

`AfterProcessCallback` ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ì—¬ ì»¤ìŠ¤í…€ Callbackì„ ë“±ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```java
// ë°©ë²• 1: ì§ì ‘ ë“±ë¡
ServiceProcessor.addCallback(new CustomCallback());

// ë°©ë²• 2: RegistrableProcessCallback ìƒì†
public class CustomCallback extends RegistrableProcessCallback {
    @Override
    public void afterProcess(ServiceContext ctx) {
        // ì»¤ìŠ¤í…€ ë¡œì§
    }
}
// ë“±ë¡
new CustomCallback().register();
```

**Callback ì‹¤í–‰ ìˆœì„œ**:
1. TransactionCleanupCallback (ê¸°ë³¸)
2. SessionCleanupCallback (ê¸°ë³¸)
3. ë“±ë¡ëœ ì»¤ìŠ¤í…€ Callbackë“¤ (ë“±ë¡ ìˆœì„œëŒ€ë¡œ)

### 3. Service Context (ì„œë¹„ìŠ¤ ì»¨í…ìŠ¤íŠ¸)

ë§¤ ì¸í„°í˜ì´ìŠ¤ ì´ë²¤íŠ¸ ë°œìƒ ì‹œë§ˆë‹¤ Dispatcherì—ì„œ ìƒì„±ë˜ì–´ ì „ì²´ í”„ë¡œì„¸ìŠ¤ë¥¼ ê´€í†µí•˜ëŠ” ê°ì²´ì…ë‹ˆë‹¤. `ServiceContext`ëŠ” Service-Chaining ê³¼ì •ì—ì„œ ë©”íƒ€ë°ì´í„° ë° Input/Output ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ê³ , ë°ì´í„° íë¦„ê³¼ ìƒíƒœë¥¼ ìœ ì§€í•˜ëŠ” í•µì‹¬ ê°ì²´ì…ë‹ˆë‹¤.

#### ìƒì„± ë° ì´ˆê¸°í™”

**ìƒì„±ì**:
```java
public ServiceContext(InterfaceInfo info)
```

**ì´ˆê¸°í™” í•­ëª©**:
- `txId`: `TxIdGenerator.generateTxId()`ë¡œ ìƒì„±ëœ ê³ ìœ  íŠ¸ëœì­ì…˜ ID
- `info`: ì¸í„°í˜ì´ìŠ¤ ë©”íƒ€ë°ì´í„° (`InterfaceInfo`)
- `startTime`: ìƒì„± ì‹œì ì˜ ì‹œê°„
- `processStatus`: `ProcessCode.NOT_STARTED`ë¡œ ì´ˆê¸°í™”
- `processOn`: `true`ë¡œ ì´ˆê¸°í™”
- `serviceTrace`: ë¹ˆ `ArrayList`ë¡œ ì´ˆê¸°í™”
- `innerServiceTraces`: ë¹ˆ `LinkedHashMap`ìœ¼ë¡œ ì´ˆê¸°í™” (IterationGroup ë‚´ë¶€ ì„œë¹„ìŠ¤ ì¶”ì ìš©)
- `errorTrace`: ë¹ˆ `LinkedHashMap`ìœ¼ë¡œ ì´ˆê¸°í™”
- `contextParams`: ë¹ˆ `HashMap`ìœ¼ë¡œ ì´ˆê¸°í™”
- `txContextMap`: ë¹ˆ `HashMap`ìœ¼ë¡œ ì´ˆê¸°í™” (Executorë³„ íŠ¸ëœì­ì…˜ ì»¨í…ìŠ¤íŠ¸)
- `sessionMap`: ë¹ˆ `HashMap`ìœ¼ë¡œ ì´ˆê¸°í™” (FTP ì„¸ì…˜ ë“±)

#### ì£¼ìš” ì†ì„±

**ê¸°ë³¸ ë©”íƒ€ë°ì´í„°**:
- `txId` (String): íŠ¸ëœì­ì…˜ ê³ ìœ  ID (ì¸í„°í˜ì´ìŠ¤ ID + íƒ€ì„ìŠ¤íƒ¬í”„ ê¸°ë°˜)
- `info` (InterfaceInfo): ì¸í„°í˜ì´ìŠ¤ ë©”íƒ€ë°ì´í„°
- `startTime` (Date): í”„ë¡œì„¸ìŠ¤ ì‹œì‘ ì‹œê°„
- `endTime` (Date): í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ ì‹œê°„ (ê° Service ì¢…ë£Œ ì‹œë§ˆë‹¤ ì—…ë°ì´íŠ¸)
- `processStatus` (ProcessCode): í”„ë¡œì„¸ìŠ¤ ìƒíƒœ ì½”ë“œ
  - `NOT_STARTED`: ì´ˆê¸° ìƒíƒœ
  - `IN_PROCESS`: Service-Chaining ì§„í–‰ ì¤‘
  - `SUCCESS`: ì •ìƒ ì™„ë£Œ
  - `FAILURE`: ì—ëŸ¬ ë°œìƒ
  - `ENFORCED_FAILURE`: ê°•ì œ ì‹¤íŒ¨
- `processOn` (boolean): í”„ë¡œì„¸ìŠ¤ ì§„í–‰ ì—¬ë¶€ í”Œë˜ê·¸ (`false`ë¡œ ì„¤ì • ì‹œ Service-Chaining ì¤‘ë‹¨)

**ì¶”ì  ì •ë³´**:
- `serviceTrace` (List<Class<? extends Service>>): ì‹¤í–‰ëœ Service í´ë˜ìŠ¤ ëª©ë¡
- `innerServiceTraces` (Map<Integer, InnerServiceTrace>): IterationGroup ë‚´ë¶€ ì„œë¹„ìŠ¤ ì¶”ì  ì •ë³´
- `errorTrace` (Map<Class<? extends Service>, ErrorTrace>): ì—ëŸ¬ ë°œìƒ ìœ„ì¹˜ ë° ìƒì„¸ ì •ë³´

**ë°ì´í„° ì €ì¥ì†Œ**:
- `contextParams` (Map<String, Object>): Service ê°„ ë°ì´í„° ì „ë‹¬ìš© ì €ì¥ì†Œ
  - `addContextParam(String key, Object value)`: ë‹¨ì¼ ë°ì´í„° ì¶”ê°€
  - `addContextParams(Map<String, Object> params)`: ì—¬ëŸ¬ ë°ì´í„° ì¼ê´„ ì¶”ê°€
  - `getContextParam(String key)`: ë°ì´í„° ì¡°íšŒ
  - `deleteContextParam(String key)`: ë°ì´í„° ì‚­ì œ

**íŠ¸ëœì­ì…˜ ê´€ë¦¬**:
- `txContextMap` (Map<String, TransactionContext>): Executorë³„ íŠ¸ëœì­ì…˜ ì»¨í…ìŠ¤íŠ¸
  - `setGroupTransaction(String executorName, boolean enabled)`: ê·¸ë£¹ íŠ¸ëœì­ì…˜ ì„¤ì •
  - `getTransactionContext(String executorName)`: íŠ¸ëœì­ì…˜ ì»¨í…ìŠ¤íŠ¸ ì¡°íšŒ
  - `addTransactionContext(QueryMap queryMap)`: ì¿¼ë¦¬ ì‹¤í–‰ ì‹œ ìë™ìœ¼ë¡œ íŠ¸ëœì­ì…˜ ì»¨í…ìŠ¤íŠ¸ ì¶”ê°€

**ì„¸ì…˜ ê´€ë¦¬**:
- `sessionMap` (Map<String, ClosableStreamWrapper>): FTP ì„¸ì…˜ ë“± ì™¸ë¶€ ë¦¬ì†ŒìŠ¤ ì„¸ì…˜
  - `addSession(String sourceName, ClosableStreamWrapper session)`: ì„¸ì…˜ ì¶”ê°€
  - `getSession(String sourceName)`: ì„¸ì…˜ ì¡°íšŒ
  - `isSessionExist(String sourceName)`: ì„¸ì…˜ ì¡´ì¬ ì—¬ë¶€ í™•ì¸

**ì‹œí€€ìŠ¤ ê´€ë¦¬**:
- `currentQueryOrder` (int): í˜„ì¬ Query Sequence ì¸ë±ìŠ¤
- `currentErrorQueryOrder` (int): í˜„ì¬ Error Query Sequence ì¸ë±ìŠ¤
- `currentDynamicCodeOrder` (int): í˜„ì¬ Dynamic Code Sequence ì¸ë±ìŠ¤
- `currentErrorDynamicCodeOrder` (int): í˜„ì¬ Error Dynamic Code Sequence ì¸ë±ìŠ¤

#### ì£¼ìš” ë©”ì†Œë“œ

**ì‹œí€€ìŠ¤ ê´€ë¦¬ ë©”ì†Œë“œ**:
- `nextQueryMap()`: Query Sequenceì—ì„œ ë‹¤ìŒ ì¿¼ë¦¬ `QueryMap` ì¡°íšŒ ë° ì¸ë±ìŠ¤ ì¦ê°€
- `hasMoreQueryMaps()`: Query Sequenceì— ë‚¨ì€ ì¿¼ë¦¬ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
- `getQueryMap(String id)`: íŠ¹ì • queryIdë¡œ `QueryMap` ì¡°íšŒ (ì¸ë±ìŠ¤ ì¦ê°€ ì—†ìŒ)
- `nextErrorQueryMap()`: Error Query Sequenceì—ì„œ ë‹¤ìŒ ì¿¼ë¦¬ ì¡°íšŒ
- `hasMoreErrorQueryMaps()`: Error Query Sequenceì— ë‚¨ì€ ì¿¼ë¦¬ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
- `nextDynamicCodeId()`: Dynamic Code Sequenceì—ì„œ ë‹¤ìŒ codeId ì¡°íšŒ
- `hasMoreDynamicCodes()`: Dynamic Code Sequenceì— ë‚¨ì€ ì½”ë“œ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
- `nextErrorDynamicCodeId()`: Error Dynamic Code Sequenceì—ì„œ ë‹¤ìŒ codeId ì¡°íšŒ
- `hasMoreErrorDynamicCodes()`: Error Dynamic Code Sequenceì— ë‚¨ì€ ì½”ë“œ ì¡´ì¬ ì—¬ë¶€ í™•ì¸

**ì¶”ì  ë©”ì†Œë“œ**:
- `addServiceTrace(Class<? extends Service> service)`: Service ì‹¤í–‰ ì´ë ¥ ì¶”ê°€
- `addServiceTraces(List<Class<? extends Service>> services)`: ì—¬ëŸ¬ Service ì‹¤í–‰ ì´ë ¥ ì¼ê´„ ì¶”ê°€
- `addInnerServiceTrace(int externalServiceIdx, int innerServiceIdx, Class<? extends Service> service)`: IterationGroup ë‚´ë¶€ ì„œë¹„ìŠ¤ ì¶”ì  ì¶”ê°€
- `addErrorTrace(Class<? extends Service> service, Throwable throwable)`: ì—ëŸ¬ ì¶”ì  ì •ë³´ ì¶”ê°€
- `getServiceTraceMessage()`: Service Traceë¥¼ JSON ë¬¸ìì—´ë¡œ ë°˜í™˜
- `getServiceTraceMap()`: Service Traceë¥¼ Map í˜•íƒœë¡œ ë°˜í™˜
- `getErrorTraceMessage()`: Error Traceë¥¼ JSON ë¬¸ìì—´ë¡œ ë°˜í™˜
- `getErrorTraceMap()`: Error Traceë¥¼ Map í˜•íƒœë¡œ ë°˜í™˜ (ì¿¼ë¦¬ íˆìŠ¤í† ë¦¬ í¬í•¨)
- `isErrorExist()`: ì—ëŸ¬ ë°œìƒ ì—¬ë¶€ í™•ì¸

**ë©”íƒ€ë°ì´í„° ì œê³µ**:
- `getContextInformation()`: `ServiceContext`ì˜ ë©”íƒ€ë°ì´í„°ë¥¼ Map í˜•íƒœë¡œ ë°˜í™˜
  - `$tx_id`: íŠ¸ëœì­ì…˜ ID
  - `$if_id`: ì¸í„°í˜ì´ìŠ¤ ID
  - `$tx_msg`: ë©”ì‹œì§€
  - `$process_status`: í”„ë¡œì„¸ìŠ¤ ìƒíƒœ ì½”ë“œ (P:ì§„í–‰ì¤‘, S:ì •ìƒ, F:ì˜¤ë¥˜)
  - `$start_time_timestamp`: ì‹œì‘ ì‹œê°„ [yyyyMMddHHmmssSSS]
  - `$start_time_date`: ì‹œì‘ ì‹œê°„ [yyyyMMddHHmmss]
  - `$end_time_timestamp`: ì¢…ë£Œ ì‹œê°„ [yyyyMMddHHmmssSSS]
  - `$end_time_date`: ì¢…ë£Œ ì‹œê°„ [yyyyMMddHHmmss]
  - `$YYYY`, `$YYYYMM`, `$YYYYMMDD`, `$YYYYMMDDHHmmss`, `$HHmmss`, `$HHmm`: í˜„ì¬ ì‹œê°„ ì •ë³´
  - `$iter_position`: IterationGroup ë‚´ í˜„ì¬ ë°˜ë³µ ìœ„ì¹˜
  - `$total_iter_position`: IterationGroup ë‚´ ì´ ë°˜ë³µ íšŸìˆ˜

**ì‹œê°„ ê´€ë¦¬**:
- `stampEndTime()`: ì¢…ë£Œ ì‹œê°„ì„ í˜„ì¬ ì‹œê°ìœ¼ë¡œ ì—…ë°ì´íŠ¸ (ê° Service ì¢…ë£Œ ì‹œ í˜¸ì¶œ)

**í”„ë¡œì„¸ìŠ¤ ì œì–´**:
- `setProcessOn(boolean processOn)`: í”„ë¡œì„¸ìŠ¤ ì§„í–‰ ì—¬ë¶€ ì„¤ì •
- `isProcessOn()`: í”„ë¡œì„¸ìŠ¤ ì§„í–‰ ì—¬ë¶€ í™•ì¸
- `setProcessStatus(ProcessCode status)`: í”„ë¡œì„¸ìŠ¤ ìƒíƒœ ì½”ë“œ ì„¤ì •
- `getProcessStatus()`: í”„ë¡œì„¸ìŠ¤ ìƒíƒœ ì½”ë“œ ì¡°íšŒ

#### íŠ¸ëœì­ì…˜ ê´€ë¦¬ ìƒì„¸

**TransactionContext**:
- Executorë³„ë¡œ ë…ë¦½ì ì¸ íŠ¸ëœì­ì…˜ ì»¨í…ìŠ¤íŠ¸ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.
- `setGroupTransaction()` ë©”ì†Œë“œë¥¼ í†µí•´ ì—¬ëŸ¬ ì¿¼ë¦¬ë¥¼ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¬¶ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì¿¼ë¦¬ ì‹¤í–‰ ì‹œ `addTransactionContext()`ê°€ ìë™ìœ¼ë¡œ í˜¸ì¶œë˜ì–´ ì¿¼ë¦¬ íˆìŠ¤í† ë¦¬ë¥¼ ê¸°ë¡í•©ë‹ˆë‹¤.
- `TransactionCleanupCallback`ì—ì„œ ë¯¸ì¢…ë£Œ íŠ¸ëœì­ì…˜ì„ ìë™ìœ¼ë¡œ Commit ë˜ëŠ” Rollbackí•©ë‹ˆë‹¤.

**ê·¸ë£¹ íŠ¸ëœì­ì…˜**:
- `StartTransaction` Serviceë¥¼ í†µí•´ ê·¸ë£¹ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•©ë‹ˆë‹¤.
- ë™ì¼í•œ Executorì—ì„œ ì‹¤í–‰ë˜ëŠ” ì—¬ëŸ¬ ì¿¼ë¦¬ë¥¼ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¬¶ì–´ ì²˜ë¦¬í•©ë‹ˆë‹¤.
- `IterationGroup` ë‚´ì—ì„œë„ ì¿¼ë¦¬ ì‹œí€€ìŠ¤ê°€ ì†Œì§„ë˜ì§€ ì•Šë„ë¡ ê´€ë¦¬ë©ë‹ˆë‹¤.

#### ì„¸ì…˜ ê´€ë¦¬ ìƒì„¸

**FTP ì„¸ì…˜ ì¬ì‚¬ìš©**:
- `isSessionExist(String sourceName)` ë©”ì†Œë“œë¡œ ì„¸ì…˜ ì¡´ì¬ ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
- ì„¸ì…˜ì´ ì¡´ì¬í•˜ëŠ” ê²½ìš° ì¬ì‚¬ìš©í•˜ê³ , ì—†ìœ¼ë©´ ì‹ ê·œ ìƒì„±í•©ë‹ˆë‹¤.
- `SessionCleanupCallback`ì—ì„œ ëª¨ë“  ì„¸ì…˜ì„ ìë™ìœ¼ë¡œ ì •ë¦¬í•©ë‹ˆë‹¤.

**ì„¸ì…˜ íƒ€ì…**:
- `ClosableStreamWrapper` ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ ëª¨ë“  ê°ì²´ë¥¼ ì„¸ì…˜ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì£¼ë¡œ FTP ì„¸ì…˜ (`FTPClientTemplate`)ì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤.

#### ì‹œí€€ìŠ¤ ê´€ë¦¬ ìƒì„¸

**Query Sequence**:
- `InterfaceInfo.querySequence`ì— ì •ì˜ëœ ì¿¼ë¦¬ ì‹¤í–‰ ìˆœì„œë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.
- `nextQueryMap()` ë©”ì†Œë“œë¡œ ìˆœì°¨ì ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ì¡°íšŒí•˜ë©°, ì¸ë±ìŠ¤ê°€ ìë™ìœ¼ë¡œ ì¦ê°€í•©ë‹ˆë‹¤.
- `getQueryMap(String id)` ë©”ì†Œë“œë¡œ íŠ¹ì • queryIdë¥¼ ì§ì ‘ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ì¸ë±ìŠ¤ ì¦ê°€ ì—†ìŒ).
- ì¿¼ë¦¬ ì‹¤í–‰ ì‹œ `TransactionContext`ì— ì¿¼ë¦¬ íˆìŠ¤í† ë¦¬ê°€ ìë™ìœ¼ë¡œ ê¸°ë¡ë©ë‹ˆë‹¤.

**Dynamic Code Sequence**:
- `InterfaceInfo.dynamicCodeSequence`ì— ì •ì˜ëœ ë™ì  ì½”ë“œ ì‹¤í–‰ ìˆœì„œë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.
- `nextDynamicCodeId()` ë©”ì†Œë“œë¡œ ìˆœì°¨ì ìœ¼ë¡œ codeIdë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
- `ExecuteDynamicCode` Serviceì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤.

**Error Query/Dynamic Code Sequence**:
- ì—ëŸ¬ ì²˜ë¦¬ ì‹œì—ë§Œ ì‚¬ìš©ë˜ëŠ” ë³„ë„ì˜ ì‹œí€€ìŠ¤ì…ë‹ˆë‹¤.
- `ErrorHandler` ë‚´ì—ì„œ `nextErrorQueryMap()`, `nextErrorDynamicCodeId()` ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
- ì •ìƒ í”„ë¡œì„¸ìŠ¤ì˜ ì‹œí€€ìŠ¤ì™€ ë…ë¦½ì ìœ¼ë¡œ ê´€ë¦¬ë©ë‹ˆë‹¤.

### 4. Storage Manager (ìŠ¤í† ë¦¬ì§€ ë§¤ë‹ˆì €)

ì¸í„°í˜ì´ìŠ¤ ì •ë³´, ì„œë¹„ìŠ¤ ì „ëµ, ì—ëŸ¬ í•¸ë“¤ëŸ¬ ë“± static ì •ë³´ë¥¼ ì €ì¥í•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤.

#### ì£¼ìš” ê¸°ëŠ¥

- **Interface Registry**: `InterfaceInfo` ê°ì²´ ì €ì¥ ë° ì¡°íšŒ
- **Service Registry**: Service-Strategy ì €ì¥ ë° ì¡°íšŒ
- **Error Handler Registry**: Error-Handler ì €ì¥ ë° ì¡°íšŒ
- **HTTP Request Mapping**: HTTP URLê³¼ ì¸í„°í˜ì´ìŠ¤ ID ë§¤í•‘ ê´€ë¦¬
- **ì¸í„°í˜ì´ìŠ¤ í™œì„±í™”/ë¹„í™œì„±í™”**: ìš´ì˜ ì „í™˜ ì‹œ ìˆœì°¨ ì „í™˜ ì§€ì›

### 5. Interface Info (ì¸í„°í˜ì´ìŠ¤ ì •ë³´)

í•˜ë‚˜ì˜ ê°œë³„ ì¸í„°í˜ì´ìŠ¤ì™€ ê·¸ ì¸í„°í˜ì´ìŠ¤ê°€ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ” Service-Strategy ë° Error-Handlerì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” ë©”íƒ€ë°ì´í„°ì…ë‹ˆë‹¤.

#### ì£¼ìš” ì†ì„±

- `interfaceId`: ì¸í„°í˜ì´ìŠ¤ ê³ ìœ  ID
- `serviceId`: ì‚¬ìš©í•  Service-Strategy ID
- `errorHandlerId`: ì‚¬ìš©í•  Error-Handler ID
- `querySequence`: DB ì¿¼ë¦¬ ì‹¤í–‰ ìˆœì„œ
- `dynamicCodeSequence`: ë™ì  ì½”ë“œ ì‹¤í–‰ ìˆœì„œ
- `fileTemplates`: íŒŒì¼/FTP ì‘ì—… ì„¤ì • ì •ë³´
- `sourceAliases`: DB/FTP/JMS ì†ŒìŠ¤ì— ëŒ€í•œ ë³„ì¹­ ë§¤í•‘
- `activated`: ì¸í„°í˜ì´ìŠ¤ í™œì„±í™” ì—¬ë¶€

### 6. Provider (ì œê³µì)

ì™¸ë¶€ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ ë° ê´€ë¦¬ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.

#### DataSourceProvider

- DB ì ‘ì† ë° ì¿¼ë¦¬ ì‘ì—…ì„ ëŒ€í–‰í•˜ëŠ” `QueryExecutor` ì €ì¥ ë° ê´€ë¦¬
- MyBatis ê¸°ë°˜ ì¿¼ë¦¬ ì‹¤í–‰
- íŠ¸ëœì­ì…˜ ê´€ë¦¬ì (`DataSourceTransactionManager`) ê´€ë¦¬
- Executorë³„ íŠ¸ëœì­ì…˜ ê²©ë¦¬

#### FTPSourceProvider

- FTP ì„œë²„ ì ‘ì† ë° ì‘ì—…ì„ ëŒ€í–‰í•˜ëŠ” `FTPClientTemplate` ì €ì¥ ë° ê´€ë¦¬
- FTP ì„¸ì…˜ ìƒì„± ë° ê´€ë¦¬
- í•œê¸€ íŒŒì¼ëª… ì§€ì› (controlEncoding ì„¤ì •)

#### DynamicCodeProvider

- ë™ì ìœ¼ë¡œ ì‹¤í–‰ ê°€ëŠ¥í•œ Java ì½”ë“œì¸ `DynamicCode`ì˜ ì €ì¥/ì»´íŒŒì¼/ì ‘ê·¼ ê´€ë¦¬
- ëŸ°íƒ€ì„ ì»´íŒŒì¼ ì§€ì›
- ë©€í‹°ìŠ¤ë ˆë“œ ì»´íŒŒì¼ ì§€ì›

---

## ì£¼ìš” ê¸°ëŠ¥

### 1. Dynamic-Code ê¸°ëŠ¥

ì›¹ ì½˜ì†”ì—ì„œ ì§ì ‘ Java ì½”ë“œë¥¼ ì‘ì„±í•˜ê³ , ì½”ë“œë¥¼ ìˆ˜ë™ìœ¼ë¡œ ì»´íŒŒì¼/ë¹Œë“œ/ì„œë²„ ì—…ë¡œë“œ í•˜ëŠ” ê³¼ì • ì—†ì´ ìš´ì˜ í™˜ê²½ì— ë°”ë¡œ ë°°í¬í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.

#### íŠ¹ì§•

- ëŸ°íƒ€ì„ ì»´íŒŒì¼ ì§€ì›
- ë©€í‹°ìŠ¤ë ˆë“œ ì»´íŒŒì¼ ì§€ì›
- `ServiceContext` ì ‘ê·¼ ê°€ëŠ¥
- MyBatis Mapper ê¸°ëŠ¥ í™œìš© ê°€ëŠ¥
- ìë™ Import ì²˜ë¦¬
- ë³´ì•ˆ ê²€ì¦ (ê¸ˆì§€ëœ í‚¤ì›Œë“œ ì²´í¬)

#### ì‚¬ìš© ì˜ˆì‹œ

```java
#namespace: IF_TEST
#code_id: MAP_DATA
#{
    // ServiceContextì—ì„œ ë°ì´í„° ì¡°íšŒ
    List<Map<String, Object>> inputData = ctx.getContextParam("input_data");
    
    // ë°ì´í„° ë³€í™˜ ë¡œì§
    List<Map<String, Object>> outputData = new ArrayList<>();
    for (Map<String, Object> row : inputData) {
        Map<String, Object> transformed = new HashMap<>();
        transformed.put("id", row.get("old_id"));
        transformed.put("name", row.get("old_name"));
        outputData.add(transformed);
    }
    
    // ServiceContextì— ê²°ê³¼ ì €ì¥
    ctx.addContextParam("output_data", outputData);
}#
```

#### êµ¬í˜„ ë°©ì‹

Dynamic-Code ê¸°ëŠ¥ì€ Javaì˜ `javax.tools.JavaCompiler` APIë¥¼ í™œìš©í•˜ì—¬ ëŸ°íƒ€ì„ì— Java ì½”ë“œë¥¼ ì»´íŒŒì¼í•˜ê³  ì‹¤í–‰í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.

**íŒŒì¼ êµ¬ì¡° ë° ë¬¸ë²•**:
- íŒŒì¼ í™•ì¥ì: `.dnc` (Dynamic Code)
- í•„ìˆ˜ ìš”ì†Œ: `#namespace:`, `#code_id:`, `#{ ... }#`
- ì„ íƒ ìš”ì†Œ: `#implements`, `#import`

**ì»´íŒŒì¼ í”„ë¡œì„¸ìŠ¤**:
1. `.dnc` íŒŒì¼ íŒŒì‹±
2. DynamicCodeHolder ìƒì„±
3. Java ì†ŒìŠ¤ ì½”ë“œ ìƒì„± (í…œí”Œë¦¿ ê¸°ë°˜)
4. Java ì»´íŒŒì¼ëŸ¬ë¡œ ì»´íŒŒì¼
5. URLClassLoaderë¡œ í´ë˜ìŠ¤ ë¡œë“œ
6. DynamicCodeInstance ìƒì„± ë° ì‹¤í–‰

**ì£¼ìš” í´ë˜ìŠ¤**:
- `DynamicCodeCompiler`: ì»´íŒŒì¼ì˜ í•µì‹¬ í´ë˜ìŠ¤ (Singleton íŒ¨í„´)
- `DynamicCodeHolder`: íŒŒì‹±ëœ ì •ë³´ë¥¼ ë‹´ëŠ” ì»¨í…Œì´ë„ˆ
- `DynamicCodeInstance`: ì‹¤í–‰ ê°€ëŠ¥í•œ ì¸ìŠ¤í„´ìŠ¤
- `ImportSupporter`: ìë™ Import ì²˜ë¦¬ ë° ë³´ì•ˆ ê²€ì¦
- `AbstractDynamicCode`: ê¸°ë³¸ Wrapper í´ë˜ìŠ¤

ìì„¸í•œ êµ¬í˜„ ë°©ì‹ì€ [Dynamic-Code êµ¬í˜„ ë°©ì‹ ìƒì„¸](#dynamic-code-êµ¬í˜„-ë°©ì‹-ìƒì„¸) ì„¹ì…˜ì„ ì°¸ê³ í•˜ì„¸ìš”.

### 2. íŠ¸ëœì­ì…˜ ê´€ë¦¬

#### ê·¸ë£¹ íŠ¸ëœì­ì…˜

- ë™ì¼í•œ Executorì—ì„œ ì‹¤í–‰ë˜ëŠ” ì—¬ëŸ¬ ì¿¼ë¦¬ë¥¼ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¬¶ì–´ ì²˜ë¦¬
- `StartTransaction` Serviceë¥¼ í†µí•´ ì‹œì‘
- `IterationGroup` ë‚´ì—ì„œë„ ì¿¼ë¦¬ ì‹œí€€ìŠ¤ê°€ ì†Œì§„ë˜ì§€ ì•Šë„ë¡ ê´€ë¦¬

#### íŠ¸ëœì­ì…˜ íƒ€ì„ì•„ì›ƒ

- `InterfaceInfo`ì˜ `txTimeoutSecond` ì†ì„±ìœ¼ë¡œ ì„¤ì •
- ì¿¼ë¦¬ë³„ë¡œ íƒ€ì„ì•„ì›ƒ ì„¤ì • ê°€ëŠ¥

#### ìë™ íŠ¸ëœì­ì…˜ ê´€ë¦¬

- `TransactionCleanupCallback`ì—ì„œ ë¯¸ì¢…ë£Œ íŠ¸ëœì­ì…˜ì„ ìë™ìœ¼ë¡œ Commit ë˜ëŠ” Rollback
- ì—ëŸ¬ ë°œìƒ ì‹œ ìë™ Rollback
- Constant ExecutorëŠ” íŠ¸ëœì­ì…˜ ì •ë¦¬ì—ì„œ ì œì™¸ ê°€ëŠ¥

### 3. FTP ì„¸ì…˜ ì¬ì‚¬ìš©

- `ServiceContext` ë‚´ì— ì´ë¯¸ FTP ì„¸ì…˜ì´ ì¡´ì¬í•˜ëŠ” ê²½ìš° ì¬ì‚¬ìš©
- ì„¸ì…˜ ì¬ìƒì„± ë°©ì§€ë¡œ ì„±ëŠ¥ í–¥ìƒ
- `SessionCleanupCallback`ì—ì„œ ë¯¸í•´ì œ ì„¸ì…˜ ìë™ ì •ë¦¬

### 4. íŒŒì¼ëª… íŒ¨í„´ í•„í„°

- `WildcardFileFilter`ë¥¼ í™œìš©í•œ íŒŒì¼ëª… íŒ¨í„´ ë§¤ì¹­
- ì—¬ëŸ¬ ì™€ì¼ë“œì¹´ë“œ íŒ¨í„´ ì§€ì›
- í•œê¸€ íŒŒì¼ëª… ì§€ì› (controlEncoding ì„¤ì •)

### 5. ì¸í„°í˜ì´ìŠ¤ í™œì„±í™”/ë¹„í™œì„±í™”

- ìš´ì˜ ì „í™˜ ì‹œ ë™ì¼í•œ ì–´ëŒ‘í„°ì— ì†í•œ ì¸í„°í˜ì´ìŠ¤ë„ ìˆœì°¨ ì „í™˜ ê°€ëŠ¥
- `StorageManager.activateInterface()` / `inactivateInterface()` ë©”ì†Œë“œ ì‚¬ìš©
- HTTP ìš”ì²­ì„ í†µí•œ ì›ê²© ì œì–´ ì§€ì›

### 6. ì—ëŸ¬ ì²˜ë¦¬ ì „ëµ

- **Rollback**: ì‹¤íŒ¨í•œ ì‘ì—…ì˜ ìƒíƒœ ë³µêµ¬ (DB ë¡¤ë°± ë˜ëŠ” íŒŒì¼ ìœ„ì¹˜ ì›ìƒë³µêµ¬)
- **ì•Œë¦¼**: ê´€ë¦¬ìì—ê²Œ ì—ëŸ¬ ì•Œë¦¼
- **ëŒ€ì²´ ê²½ë¡œ**: ì‹¤íŒ¨í•œ ì‘ì—…ì„ ìš°íšŒí•˜ê±°ë‚˜ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ë¡œ ëŒ€ì²´ ì‹¤í–‰
- **ErrorHandlerì—ì„œ ì„œë¹„ìŠ¤ í˜¸ì¶œ**: ì—ëŸ¬ ì²˜ë¦¬ ì¤‘ì—ë„ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ í˜¸ì¶œ ê°€ëŠ¥

---

## Service êµ¬í˜„

Indigo-Dynamic-AdapterëŠ” ë‹¤ì–‘í•œ í”„ë¡œí† ì½œê³¼ ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ” ì´ **40ê°œ ì´ìƒì˜ Service**ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ê° ServiceëŠ” íŠ¹ì • ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ” ìµœì†Œ ë‹¨ìœ„ì˜ ì»´í¬ë„ŒíŠ¸ë¡œ, Service-Chainingì„ í†µí•´ ì¡°í•©í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![service-components](img/service-components.png)

### Service íƒ€ì…ë³„ ëª©ë¡

#### DB ì„œë¹„ìŠ¤ (10ê°œ)

1. **Select** (`mb.dnm.service.db.Select`): ë°ì´í„°ë² ì´ìŠ¤ SELECT ì¿¼ë¦¬ ì‹¤í–‰
2. **Insert** (`mb.dnm.service.db.Insert`): ë°ì´í„°ë² ì´ìŠ¤ INSERT ì¿¼ë¦¬ ì‹¤í–‰
3. **Update** (`mb.dnm.service.db.Update`): ë°ì´í„°ë² ì´ìŠ¤ UPDATE ì¿¼ë¦¬ ì‹¤í–‰
4. **Delete** (`mb.dnm.service.db.Delete`): ë°ì´í„°ë² ì´ìŠ¤ DELETE ì¿¼ë¦¬ ì‹¤í–‰
5. **CallProcedure** (`mb.dnm.service.db.CallProcedure`): ì €ì¥ í”„ë¡œì‹œì € í˜¸ì¶œ
6. **StartTransaction** (`mb.dnm.service.db.StartTransaction`): íŠ¸ëœì­ì…˜ ê·¸ë£¹ ì‹œì‘
7. **Commit** (`mb.dnm.service.db.Commit`): íŠ¸ëœì­ì…˜ ì»¤ë°‹
8. **Rollback** (`mb.dnm.service.db.Rollback`): íŠ¸ëœì­ì…˜ ë¡¤ë°±
9. **EndTransaction** (`mb.dnm.service.db.EndTransaction`): íŠ¸ëœì­ì…˜ ìë™ ì¢…ë£Œ
10. **OpenCursor** (`mb.dnm.service.db.OpenCursor`): ì»¤ì„œ ì—´ê¸° (Fetchì™€ ì—°ê³„ ì‚¬ìš©)

#### FTP ì„œë¹„ìŠ¤ (7ê°œ)

1. **FTPLogin** (`mb.dnm.service.ftp.FTPLogin`): FTP ì„œë²„ ë¡œê·¸ì¸
2. **FTPLogout** (`mb.dnm.service.ftp.FTPLogout`): FTP ì„œë²„ ë¡œê·¸ì•„ì›ƒ
3. **ListFiles** (`mb.dnm.service.ftp.ListFiles`): FTP ì„œë²„ íŒŒì¼/ë””ë ‰í„°ë¦¬ ëª©ë¡ ì¡°íšŒ
4. **DownloadFiles** (`mb.dnm.service.ftp.DownloadFiles`): FTP ì„œë²„ì—ì„œ íŒŒì¼ ë‹¤ìš´ë¡œë“œ
5. **UploadFiles** (`mb.dnm.service.ftp.UploadFiles`): FTP ì„œë²„ì— íŒŒì¼ ì—…ë¡œë“œ
6. **MoveFiles** (`mb.dnm.service.ftp.MoveFiles`): FTP ì„œë²„ ë‚´ íŒŒì¼ ì´ë™
7. **DeleteFiles** (`mb.dnm.service.ftp.DeleteFiles`): FTP ì„œë²„ íŒŒì¼/ë””ë ‰í„°ë¦¬ ì‚­ì œ

#### íŒŒì¼ ì„œë¹„ìŠ¤ (6ê°œ)

1. **ReadFile** (`mb.dnm.service.file.ReadFile`): íŒŒì¼ ì½ê¸°
2. **WriteFile** (`mb.dnm.service.file.WriteFile`): íŒŒì¼ ì“°ê¸°
3. **ListFiles** (`mb.dnm.service.file.ListFiles`): íŒŒì¼/ë””ë ‰í„°ë¦¬ ëª©ë¡ ì¡°íšŒ
4. **CopyFiles** (`mb.dnm.service.file.CopyFiles`): íŒŒì¼ ë³µì‚¬
5. **MoveFiles** (`mb.dnm.service.file.MoveFiles`): íŒŒì¼ ì´ë™
6. **DeleteFiles** (`mb.dnm.service.file.DeleteFiles`): íŒŒì¼/ë””ë ‰í„°ë¦¬ ì‚­ì œ

#### ì¼ë°˜ ì„œë¹„ìŠ¤ (12ê°œ)

1. **IterationGroup** (`mb.dnm.service.general.IterationGroup`): ë°˜ë³µ ê·¸ë£¹ (ë°˜ë³µë¬¸ ìˆ˜í–‰)
2. **TransformData** (`mb.dnm.service.general.TransformData`): ë°ì´í„° íƒ€ì… ë³€í™˜
3. **GetSize** (`mb.dnm.service.general.GetSize`): ë°ì´í„° í¬ê¸° ì¡°íšŒ
4. **PrintInput** (`mb.dnm.service.general.PrintInput`): ì…ë ¥ ë°ì´í„° ì¶œë ¥ (ë””ë²„ê¹…ìš©)
5. **StopIfInputIsNullOrEmpty** (`mb.dnm.service.general.StopIfInputIsNullOrEmpty`): ì…ë ¥ì´ nullì´ê±°ë‚˜ ë¹„ì–´ìˆìœ¼ë©´ í”„ë¡œì„¸ìŠ¤ ì¤‘ë‹¨
6. **PauseProcess** (`mb.dnm.service.general.PauseProcess`): í”„ë¡œì„¸ìŠ¤ ì¼ì‹œ ì¤‘ì§€
7. **BreakIteration** (`mb.dnm.service.general.BreakIteration`): ë°˜ë³µë¬¸ ì¤‘ë‹¨
8. **ContinueIteration** (`mb.dnm.service.general.ContinueIteration`): ë°˜ë³µë¬¸ ê³„ì†
9. **ControlInterfaceActivation** (`mb.dnm.service.general.ControlInterfaceActivation`): ì¸í„°í˜ì´ìŠ¤ í™œì„±í™”/ë¹„í™œì„±í™” ì œì–´
10. **ThrowException** (`mb.dnm.service.general.ThrowException`): ì˜ˆì™¸ ë°œìƒ
11. **OutputCustomData** (`mb.dnm.service.general.OutputCustomData`): ì»¤ìŠ¤í…€ ë°ì´í„° ì¶œë ¥

#### ì•”í˜¸í™” ì„œë¹„ìŠ¤ (2ê°œ)

1. **Encrypt** (`mb.dnm.service.crypto.Encrypt`): ë°ì´í„° ì•”í˜¸í™” (SEED128, ARIA128, JASYPT ì§€ì›)
2. **Decrypt** (`mb.dnm.service.crypto.Decrypt`): ë°ì´í„° ë³µí˜¸í™”

#### ë™ì  ì½”ë“œ ì„œë¹„ìŠ¤ (1ê°œ)

1. **ExecuteDynamicCode** (`mb.dnm.service.dynamic.ExecuteDynamicCode`): ë™ì ìœ¼ë¡œ ì»´íŒŒì¼ëœ Java ì½”ë“œ ì‹¤í–‰

#### HTTP ì„œë¹„ìŠ¤ (1ê°œ)

1. **SetHttpResponseBody** (`mb.dnm.service.http.SetHttpResponseBody`): HTTP ì‘ë‹µ ë°”ë”” ì„¤ì •

### Service êµ¬í˜„ íŒ¨í„´

ëª¨ë“  ServiceëŠ” ì¼ê´€ëœ êµ¬í˜„ íŒ¨í„´ì„ ë”°ë¦…ë‹ˆë‹¤. ìƒˆë¡œìš´ Serviceë¥¼ ê°œë°œí•˜ê±°ë‚˜ ê¸°ì¡´ Serviceì˜ êµ¬ì¡°ë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ ë‹¤ìŒ íŒ¨í„´ë“¤ì„ ì°¸ê³ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ìƒì† ê³„ì¸µ êµ¬ì¡°

```
Service (ì¸í„°í˜ì´ìŠ¤)
  â””â”€â”€ AbstractService (ì¶”ìƒ í´ë˜ìŠ¤)
      â”œâ”€â”€ ParameterAssignableService (ì¶”ìƒ í´ë˜ìŠ¤)
      â”‚   â”œâ”€â”€ SourceAccessService (ì¶”ìƒ í´ë˜ìŠ¤)
      â”‚   â”‚   â””â”€â”€ AbstractFTPService (ì¶”ìƒ í´ë˜ìŠ¤)
      â”‚   â”‚       â””â”€â”€ FTP ì„œë¹„ìŠ¤ë“¤
      â”‚   â””â”€â”€ íŒŒì¼/ì¼ë°˜ ì„œë¹„ìŠ¤ë“¤
      â””â”€â”€ DB ì„œë¹„ìŠ¤ë“¤
```

#### ê³µí†µ êµ¬í˜„ íŒ¨í„´

**1. process ë©”ì†Œë“œ êµ¬í˜„ íŒ¨í„´**:
```java
@Override
public void process(ServiceContext ctx) throws Throwable {
    // 1. Input ë°ì´í„° ì¡°íšŒ
    Object inputData = getInputValue(ctx);
    
    // 2. ì…ë ¥ ê²€ì¦
    if (inputData == null) {
        throw new InvalidServiceConfigurationException(...);
    }
    
    // 3. Service ë¡œì§ ìˆ˜í–‰
    Object outputData = performServiceLogic(inputData, ctx);
    
    // 4. Output ë°ì´í„° ì €ì¥
    if (getOutput() != null) {
        setOutputValue(ctx, outputData);
    }
}
```

**2. Input/Output ì²˜ë¦¬**:
- `ParameterAssignableService`ë¥¼ ìƒì†í•œ ê²½ìš° `getInputValue(ctx)`, `setOutputValue(ctx, value)` ì‚¬ìš©
- ì§ì ‘ `ServiceContext`ì—ì„œ ì¡°íšŒ/ì €ì¥: `ctx.getContextParam(key)`, `ctx.addContextParam(key, value)`

**3. ì—ëŸ¬ ì²˜ë¦¬**:
- `InvalidServiceConfigurationException` ì‚¬ìš© (ì„¤ì • ì˜¤ë¥˜)
- `ignoreError` ì†ì„±ìœ¼ë¡œ ì—ëŸ¬ ë¬´ì‹œ ê°€ëŠ¥
- `exceptionHandlingMode`ë¡œ Error Query/Dynamic Code Sequence ì‚¬ìš© ê°€ëŠ¥

**4. ë¡œê¹…**:
```java
@Slf4j
public class CustomService extends AbstractService {
    @Override
    public void process(ServiceContext ctx) throws Throwable {
        String txId = ctx.getTxId();
        log.info("[{}]Service ì‹œì‘", txId);
        // ë¡œì§ ìˆ˜í–‰
        log.info("[{}]Service ì™„ë£Œ", txId);
    }
}
```

#### ì„œë¹„ìŠ¤ íƒ€ì…ë³„ êµ¬í˜„ íŒ¨í„´

**DB ì„œë¹„ìŠ¤ íŒ¨í„´**:
1. QueryMap ì¡°íšŒ (`nextQueryMap()` ë˜ëŠ” `getQueryMap(queryId)`)
2. QueryExecutor ì¡°íšŒ
3. TransactionContext ê´€ë¦¬
4. ì¿¼ë¦¬ ì‹¤í–‰
5. ê²°ê³¼ ì²˜ë¦¬ ë° ì €ì¥

**FTP ì„œë¹„ìŠ¤ íŒ¨í„´**:
1. `AbstractFTPService` ìƒì†
2. FTP ì„¸ì…˜ ì¡°íšŒ (`getFTPSession()`)
3. FTP ì‘ì—… ìˆ˜í–‰
4. ì—ëŸ¬ ì²˜ë¦¬

**íŒŒì¼ ì„œë¹„ìŠ¤ íŒ¨í„´**:
1. `SourceAccessService` ìƒì†
2. `FileTemplate` ì¡°íšŒ
3. íŒŒì¼ ê²½ë¡œ ì²˜ë¦¬
4. íŒŒì¼ ì‘ì—… ìˆ˜í–‰

ìì„¸í•œ êµ¬í˜„ íŒ¨í„´ì€ [Service êµ¬í˜„ íŒ¨í„´ ìƒì„¸](#service-êµ¬í˜„-íŒ¨í„´-ìƒì„¸) ì„¹ì…˜ì„ ì°¸ê³ í•˜ì„¸ìš”.

---

## ì„¤ê³„ êµ¬ì¡°

### íŒ¨í‚¤ì§€ êµ¬ì¡°

```
mb.dnm
â”œâ”€â”€ access          # ì™¸ë¶€ ë¦¬ì†ŒìŠ¤ ì ‘ê·¼ ê³„ì¸µ
â”‚   â”œâ”€â”€ crypto      # ì•”í˜¸í™” ê´€ë ¨
â”‚   â”œâ”€â”€ db          # ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼
â”‚   â”œâ”€â”€ dynamic     # ë™ì  ì½”ë“œ ê´€ë¦¬
â”‚   â”œâ”€â”€ file        # íŒŒì¼ ì ‘ê·¼
â”‚   â”œâ”€â”€ ftp         # FTP ì ‘ê·¼
â”‚   â””â”€â”€ http        # HTTP ì ‘ê·¼
â”œâ”€â”€ code            # ì½”ë“œ ìƒìˆ˜ ë° ì—´ê±°í˜•
â”œâ”€â”€ core            # í•µì‹¬ ê¸°ëŠ¥
â”‚   â”œâ”€â”€ callback    # ì½œë°± ì¸í„°í˜ì´ìŠ¤ ë° êµ¬í˜„
â”‚   â”œâ”€â”€ context     # ì„œë¹„ìŠ¤ ì»¨í…ìŠ¤íŠ¸
â”‚   â””â”€â”€ dynamic     # ë™ì  ì½”ë“œ ì»´íŒŒì¼ëŸ¬
â”œâ”€â”€ dispatcher      # ì´ë²¤íŠ¸ ë¶„ë°°ê¸°
â”‚   â””â”€â”€ http        # HTTP ìš”ì²­ ë¶„ë°°ê¸°
â”œâ”€â”€ exeption        # ì˜ˆì™¸ ì²˜ë¦¬
â”‚   â””â”€â”€ handler     # ì˜ˆì™¸ í•¸ë“¤ëŸ¬
â”œâ”€â”€ service         # ì„œë¹„ìŠ¤ êµ¬í˜„
â”‚   â”œâ”€â”€ crypto      # ì•”í˜¸í™” ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ db          # DB ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ dynamic     # ë™ì  ì½”ë“œ ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ file        # íŒŒì¼ ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ ftp         # FTP ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ general     # ì¼ë°˜ ì„œë¹„ìŠ¤
â”‚   â””â”€â”€ http        # HTTP ì„œë¹„ìŠ¤
â”œâ”€â”€ storage         # ìŠ¤í† ë¦¬ì§€ ê´€ë¦¬
â””â”€â”€ util            # ìœ í‹¸ë¦¬í‹°
```

### ServiceContext ìƒëª…ì£¼ê¸°

```
Dispatcher ìƒì„± â†’ ServiceProcessor ì „ë‹¬ â†’ Service-Chaining â†’ Error-Handling â†’ Callback â†’ Dispatcher ì†Œë©¸
```

---

## ê°œë°œ í™˜ê²½ ì„¤ì •

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- **JDK**: 1.7 ì´ìƒ
- **Maven**: 3.8.8
- **Maven JVM ì˜µì…˜**: `-Dhttps.protocols=TLSv1.1,TLSv1.2`

### Maven ë‹¤ìš´ë¡œë“œ

- ë‹¤ìš´ë¡œë“œ ë§í¬: [apache-maven-3.8.8-bin.zip](https://dlcdn.apache.org/maven/maven-3/3.8.8/binaries/apache-maven-3.8.8-bin.zip)

### ë¹Œë“œ ë° ì‹¤í–‰

```bash
# í”„ë¡œì íŠ¸ ë¹Œë“œ
mvn clean install -Dhttps.protocols=TLSv1.1,TLSv1.2

# í…ŒìŠ¤íŠ¸ ì‹¤í–‰
mvn test -Dhttps.protocols=TLSv1.1,TLSv1.2
```

---

## ì„¤ì • íŒŒì¼ êµ¬ì¡°

### ì£¼ìš” ì„¤ì • íŒŒì¼

- **`CONFIG_CORE.xml`**: í•µì‹¬ ì„¤ì • (StorageManager, Provider ë“±)
- **`CONFIG_INTERFACES.xml`**: ì¸í„°í˜ì´ìŠ¤ ì •ë³´ ì„¤ì •
- **`CONFIG_SERVICES.xml`**: ì„œë¹„ìŠ¤ ì „ëµ ì„¤ì •
- **`config_ERROR_HANDLERS.xml`**: ì—ëŸ¬ í•¸ë“¤ëŸ¬ ì„¤ì •
- **`bean.xml`**: Spring Bean ì„¤ì •
- **`mybatis-confiuration.xml`**: MyBatis ì„¤ì •

### ë™ì  ì½”ë“œ íŒŒì¼

- **`*.dnc`**: Dynamic Code íŒŒì¼ (ì˜ˆ: `DNC_COMMON.dnc`, `DNC_IF_TEST.dnc`)

### MyBatis Mapper íŒŒì¼

- **`SQL_*.xml`**: MyBatis Mapper íŒŒì¼ (ì˜ˆ: `SQL_TEST.xml`)

---

## ì‘ì—… ì´ë ¥

### ì™„ë£Œëœ ì‘ì—…

- âœ… FTP ì„¸ì…˜ ì¬ì‚¬ìš© ê¸°ëŠ¥
- âœ… ë¦¬ìŠ¤íŠ¸ íŒŒë¼ë¯¸í„° ì²˜ë¦¬ ì‹œ íŠ¸ëœì­ì…˜ í†µí•©
- âœ… FTP ì¬ê·€ ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥
- âœ… FTP ë””ë ‰í„°ë¦¬ êµ¬ì¡° ìœ ì§€ ë‹¤ìš´ë¡œë“œ ì˜µì…˜
- âœ… FTP í•œê¸€ íŒŒì¼ëª… ì§€ì›
- âœ… ì™€ì¼ë“œì¹´ë“œ íŒŒì¼ëª… íŒ¨í„´ í•„í„° ë‹¤ì¤‘ ì§€ì›
- âœ… IterationGroup ë‚´ ì¿¼ë¦¬ ì‹œí€€ìŠ¤ ê´€ë¦¬
- âœ… QueryExecutor#doCall ë©”ì†Œë“œ ì™„ì„±
- âœ… ì•”í˜¸í™” ì„œë¹„ìŠ¤ ì¶”ê°€
- âœ… Compiler ê¸°ëŠ¥ì„ í™œìš©í•œ Mapper ê°œë°œ
- âœ… DB CRUD ì‹œ ê¸°ë³¸ íŒŒë¼ë¯¸í„° ìë™ í¬í•¨ (if_id, tx_id, í”„ë¡œì„¸ìŠ¤ ì½”ë“œ ë“±)
- âœ… ì¸í„°í˜ì´ìŠ¤ í™œì„±í™”/ë¹„í™œì„±í™” ê¸°ëŠ¥
- âœ… ErrorHandlerì—ì„œ ì„œë¹„ìŠ¤ í˜¸ì¶œ ê¸°ëŠ¥
- âœ… HTTP ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬ ê¸°ëŠ¥ (GET, POST, PUT, DELETE, PATCH, HEAD, OPTIONS ì§€ì›)
- âœ… HTTP API Template ê¸°ëŠ¥ (Content-Type ìë™ ì²˜ë¦¬, Accept í—¤ë” ê¸°ë°˜ ì‘ë‹µ í˜•ì‹ ê²°ì •)
- âœ… HTTP ìš”ì²­ ë°ì´í„° ìë™ íŒŒì‹± (í—¤ë”, íŒŒë¼ë¯¸í„°, ë°”ë””ë¥¼ ServiceContextì— ìë™ ì €ì¥)
- âœ… HTTP ì‘ë‹µ ìë™ ë³€í™˜ (JSON, XML í˜•ì‹ ìë™ ë³€í™˜ ë° ì „ì†¡)
- âœ… IterationGroup ê³ ê¸‰ ê¸°ëŠ¥ (createNewContextEachLoop, passTransactionToContexts, passSessionToContexts, continueDespiteError, iterateUntilBreak, fetchSize)
- âœ… TransformData ì„œë¹„ìŠ¤ êµ¬í˜„ (BYTE_ARRAY, STRING, JSON, XML, MAP ê°„ ë°ì´í„° íƒ€ì… ë³€í™˜)
- âœ… íŠ¸ëœì­ì…˜ ê´€ë¦¬ ê¸°ëŠ¥ (StartTransaction, Commit, Rollback, EndTransaction)
- âœ… ê·¸ë£¹ íŠ¸ëœì­ì…˜ ê¸°ëŠ¥ (ì—¬ëŸ¬ ì¿¼ë¦¬ë¥¼ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¬¶ì–´ ì²˜ë¦¬)
- âœ… íŠ¸ëœì­ì…˜ íƒ€ì„ì•„ì›ƒ ê¸°ëŠ¥ (ì¿¼ë¦¬ë³„ íƒ€ì„ì•„ì›ƒ ì„¤ì • ì§€ì›)
- âœ… Service Trace ê¸°ëŠ¥ (ì„œë¹„ìŠ¤ ì‹¤í–‰ ìˆœì„œ ë° ì¶”ì  ì •ë³´ ê´€ë¦¬)
- âœ… Error Trace ê¸°ëŠ¥ (ì—ëŸ¬ ë°œìƒ ìœ„ì¹˜ ë° ìƒì„¸ ì •ë³´ ì¶”ì )
- âœ… ServiceContext ë©”íƒ€ë°ì´í„° ì œê³µ ê¸°ëŠ¥ (íŠ¸ëœì­ì…˜ ID, í”„ë¡œì„¸ìŠ¤ ìƒíƒœ, ì‹œê°„ ì •ë³´ ë“±)
- âœ… ì¿¼ë¦¬ íˆìŠ¤í† ë¦¬ ì¶”ì  ê¸°ëŠ¥ (ì‹¤í–‰ëœ ì¿¼ë¦¬ ì´ë ¥ ê´€ë¦¬)
- âœ… ë™ì  ì½”ë“œ ëŸ°íƒ€ì„ ì»´íŒŒì¼ ê¸°ëŠ¥
- âœ… ë™ì  ì½”ë“œ ë©€í‹°ìŠ¤ë ˆë“œ ì»´íŒŒì¼ ì§€ì›
- âœ… Source Alias ê¸°ëŠ¥ (InterfaceInfoì—ì„œ DB/FTP/JMS ì†ŒìŠ¤ ë³„ì¹­ ë§¤í•‘)
- âœ… FileTemplate ê¸°ëŠ¥ (íŒŒì¼/FTP ì‘ì—… ì„¤ì • ì •ë³´ ê´€ë¦¬)
- âœ… HTTP Method ê²€ì¦ ê¸°ëŠ¥ (ì¸í„°í˜ì´ìŠ¤ë³„ í—ˆìš© HTTP Method ê²€ì¦)
- âœ… ì—ëŸ¬ ë¬´ì‹œ ì˜µì…˜ (Serviceë³„ ignoreError ì„¤ì •)
- âœ… í”„ë¡œì„¸ìŠ¤ ì œì–´ ê¸°ëŠ¥ (processOn í”Œë˜ê·¸ë¥¼ í†µí•œ í”„ë¡œì„¸ìŠ¤ ì¤‘ë‹¨ ì œì–´)
- âœ… Callback ì‹œìŠ¤í…œ (TransactionCleanupCallback, SessionCleanupCallback ê¸°ë³¸ ì œê³µ)
- âœ… ì»¤ìŠ¤í…€ Callback ë“±ë¡ ê¸°ëŠ¥ (AfterProcessCallback ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„)
- âœ… Constant Executor ê¸°ëŠ¥ (íŠ¸ëœì­ì…˜ ì •ë¦¬ì—ì„œ ì œì™¸í•  Executor ì§€ì •)
- âœ… í”„ë¡œì„¸ìŠ¤ ìƒíƒœ ì½”ë“œ ê´€ë¦¬ (ProcessCode: NOT_STARTED, IN_PROCESS, SUCCESS, FAILURE, ENFORCED_FAILURE)
- âœ… ServiceContext ìƒëª…ì£¼ê¸° ê´€ë¦¬ (ìƒì„±ë¶€í„° ì†Œë©¸ê¹Œì§€ ì „ ê³¼ì • ì¶”ì )
- âœ… íŠ¸ëœì­ì…˜ í”„ë¡ì‹œ ì¸í„°ì…‰í„° (CGLIB ê¸°ë°˜ íŠ¸ëœì­ì…˜ ìë™ ê´€ë¦¬)
- âœ… ì—ëŸ¬ ë°œìƒ ì‹œ Service Chain ìë™ ì¤‘ë‹¨ ê¸°ëŠ¥
- âœ… Service ì‹¤í–‰ ìˆœì„œ ì¶”ì  ë° ë¡œê¹… ê¸°ëŠ¥

---

## ì°¸ê³  ìë£Œ

- **REF.txt**: ëª¨ë“ˆ ì†Œê°œ ë° êµ¬ì„± ìš”ì†Œ ìƒì„¸ ì„¤ëª…
- **img/**: ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨ ë° í”„ë¡œì„¸ìŠ¤ íë¦„ë„
  - `architecture-1.png`, `architecture-2.png`: ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨
  - `service-process.png`: ì„œë¹„ìŠ¤ í”„ë¡œì„¸ìŠ¤ íë¦„ë„
  - `service-chaining.png`: ì„œë¹„ìŠ¤ ì²´ì´ë‹ êµ¬ì¡°
  - `life-cycle-of-a-service-context.png`: ServiceContext ìƒëª…ì£¼ê¸°
  - `service-components.png`: ì„œë¹„ìŠ¤ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°
  - `service-process-example.png`: ì„œë¹„ìŠ¤ í”„ë¡œì„¸ìŠ¤ ì˜ˆì œ
- **TIBCO EAI**: [TIBCO EAI í”„ë¡œì íŠ¸ ë°°ê²½ ë¬¸ì„œ](https://www.notion.so/TIBCO-EAI-2cd9b0a1badb80beb136cfb6d0423b45)

---

## ë¶€ë¡

### Service ìƒì„¸ ëª©ë¡

ê° Serviceì˜ ìƒì„¸í•œ ê¸°ëŠ¥, Input/Output íƒ€ì…, ì£¼ìš” íŠ¹ì§•ì„ ì •ë¦¬í•œ ëª©ë¡ì…ë‹ˆë‹¤.

#### DB ì„œë¹„ìŠ¤ ìƒì„¸

**1. Select** (`mb.dnm.service.db.Select`)
- **ê¸°ëŠ¥**: ë°ì´í„°ë² ì´ìŠ¤ SELECT ì¿¼ë¦¬ ì‹¤í–‰
- **Input**: `Map<String, Object>` (ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°)
- **Output**: `List<Map<String, Object>>` ë˜ëŠ” `int` (handleResultSet=trueì¸ ê²½ìš°)
- **íŠ¹ì§•**:
  - MyBatis Mapper ê¸°ë°˜ ì¿¼ë¦¬ ì‹¤í–‰
  - Query Sequence ìë™ ê´€ë¦¬
  - Result Handling ì§€ì› (ëŒ€ìš©ëŸ‰ ê²°ê³¼ ì²˜ë¦¬)
  - Error Query Mode ì§€ì›
  - íŠ¹ì • queryId ì§€ì • ì‹¤í–‰ ê°€ëŠ¥

**2. Insert** (`mb.dnm.service.db.Insert`)
- **ê¸°ëŠ¥**: ë°ì´í„°ë² ì´ìŠ¤ INSERT ì¿¼ë¦¬ ì‹¤í–‰
- **Input**: `Map<String, Object>` (ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°)
- **Output**: `int` (ì˜í–¥ë°›ì€ í–‰ ìˆ˜)
- **íŠ¹ì§•**: Query Sequence ìë™ ê´€ë¦¬, Error Query Mode ì§€ì›

**3. Update** (`mb.dnm.service.db.Update`)
- **ê¸°ëŠ¥**: ë°ì´í„°ë² ì´ìŠ¤ UPDATE ì¿¼ë¦¬ ì‹¤í–‰
- **Input**: `Map<String, Object>` (ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°)
- **Output**: `int` (ì˜í–¥ë°›ì€ í–‰ ìˆ˜)
- **íŠ¹ì§•**: Query Sequence ìë™ ê´€ë¦¬, Error Query Mode ì§€ì›

**4. Delete** (`mb.dnm.service.db.Delete`)
- **ê¸°ëŠ¥**: ë°ì´í„°ë² ì´ìŠ¤ DELETE ì¿¼ë¦¬ ì‹¤í–‰
- **Input**: `Map<String, Object>` (ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°)
- **Output**: `int` (ì˜í–¥ë°›ì€ í–‰ ìˆ˜)
- **íŠ¹ì§•**: Query Sequence ìë™ ê´€ë¦¬, Error Query Mode ì§€ì›

**5. CallProcedure** (`mb.dnm.service.db.CallProcedure`)
- **ê¸°ëŠ¥**: ì €ì¥ í”„ë¡œì‹œì € í˜¸ì¶œ
- **Input**: `Map<String, Object>` (í”„ë¡œì‹œì € íŒŒë¼ë¯¸í„°)
- **Output**: `List<Map<String, Object>>` (í”„ë¡œì‹œì € ê²°ê³¼)
- **íŠ¹ì§•**: OUT íŒŒë¼ë¯¸í„° ì§€ì›, ì»¤ì„œ ê²°ê³¼ ì²˜ë¦¬

**6. OpenCursor** (`mb.dnm.service.db.OpenCursor`)
- **ê¸°ëŠ¥**: ë°ì´í„°ë² ì´ìŠ¤ ì»¤ì„œ ì—´ê¸°
- **íŠ¹ì§•**: Fetch ì„œë¹„ìŠ¤ì™€ ì—°ê³„í•˜ì—¬ ì‚¬ìš©, ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ì§€ì›

**7. Fetch** (`mb.dnm.service.db.Fetch`)
- **ê¸°ëŠ¥**: ì—´ë¦° ì»¤ì„œì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
- **Output**: `List<Map<String, Object>>` (Fetch ê²°ê³¼)
- **íŠ¹ì§•**: OpenCursor ë˜ëŠ” CallProcedureì™€ ì—°ê³„ ì‚¬ìš©, íŠ¸ëœì­ì…˜ ê·¸ë£¹ í•„ìˆ˜

**8. StartTransaction** (`mb.dnm.service.db.StartTransaction`)
- **ê¸°ëŠ¥**: íŠ¸ëœì­ì…˜ ê·¸ë£¹ ì‹œì‘
- **íŠ¹ì§•**: 
  - ì—¬ëŸ¬ ì¿¼ë¦¬ë¥¼ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¬¶ìŒ
  - Source Aliasë³„ íŠ¸ëœì­ì…˜ ê·¸ë£¹ ì§€ì • ê°€ëŠ¥
  - ì¤‘ë³µ ì„¤ì • ë°©ì§€

**9. Commit** (`mb.dnm.service.db.Commit`)
- **ê¸°ëŠ¥**: íŠ¸ëœì­ì…˜ ì»¤ë°‹
- **íŠ¹ì§•**: 
  - StartTransactionìœ¼ë¡œ ì‹œì‘ëœ íŠ¸ëœì­ì…˜ ì»¤ë°‹
  - Source Aliasë³„ ì„ íƒì  ì»¤ë°‹ ê°€ëŠ¥
  - ì»¤ë°‹ ì‹¤íŒ¨ ì‹œ ìë™ ë¡¤ë°±

**10. Rollback** (`mb.dnm.service.db.Rollback`)
- **ê¸°ëŠ¥**: íŠ¸ëœì­ì…˜ ë¡¤ë°±
- **íŠ¹ì§•**: 
  - StartTransactionìœ¼ë¡œ ì‹œì‘ëœ íŠ¸ëœì­ì…˜ ë¡¤ë°±
  - Source Aliasë³„ ì„ íƒì  ë¡¤ë°± ê°€ëŠ¥

**11. EndTransaction** (`mb.dnm.service.db.EndTransaction`)
- **ê¸°ëŠ¥**: íŠ¸ëœì­ì…˜ ìë™ ì¢…ë£Œ (ì—ëŸ¬ ì—¬ë¶€ì— ë”°ë¼ Commit ë˜ëŠ” Rollback)
- **íŠ¹ì§•**: 
  - ServiceContextì˜ ì—ëŸ¬ ì´ë ¥ í™•ì¸
  - ì—ëŸ¬ ì¡´ì¬ ì‹œ Rollback, ì—†ìœ¼ë©´ Commit
  - Source Aliasë³„ ì„ íƒì  ì²˜ë¦¬ ê°€ëŠ¥

#### FTP ì„œë¹„ìŠ¤ ìƒì„¸

**1. FTPLogin** (`mb.dnm.service.ftp.FTPLogin`)
- **ê¸°ëŠ¥**: FTP ì„œë²„ ë¡œê·¸ì¸
- **íŠ¹ì§•**: 
  - ServiceContext ë‚´ ì„¸ì…˜ ì¬ì‚¬ìš© ì§€ì›
  - Source Aliasë¥¼ í†µí•œ FTP ì„œë²„ ì„ íƒ
  - í•œê¸€ íŒŒì¼ëª… ì§€ì› (controlEncoding ì„¤ì •)

**2. FTPLogout** (`mb.dnm.service.ftp.FTPLogout`)
- **ê¸°ëŠ¥**: FTP ì„œë²„ ë¡œê·¸ì•„ì›ƒ
- **íŠ¹ì§•**: ì„¸ì…˜ ì•ˆì „ ì¢…ë£Œ

**3. ListFiles** (`mb.dnm.service.ftp.ListFiles`)
- **ê¸°ëŠ¥**: FTP ì„œë²„ íŒŒì¼/ë””ë ‰í„°ë¦¬ ëª©ë¡ ì¡°íšŒ
- **Input**: `String` (ë””ë ‰í„°ë¦¬ ê²½ë¡œ, ì„ íƒ)
- **Output**: `FileList` (íŒŒì¼ ëª©ë¡)
- **íŠ¹ì§•**: 
  - ì™€ì¼ë“œì¹´ë“œ íŒŒì¼ëª… íŒ¨í„´ í•„í„° ì§€ì›
  - ì¬ê·€ì  ë””ë ‰í„°ë¦¬ íƒìƒ‰ ì§€ì›
  - íŒŒì¼/ë””ë ‰í„°ë¦¬ íƒ€ì… í•„í„°ë§
  - ë””ë ‰í„°ë¦¬ ìë™ ìƒì„± ì˜µì…˜

**4. DownloadFiles** (`mb.dnm.service.ftp.DownloadFiles`)
- **ê¸°ëŠ¥**: FTP ì„œë²„ì—ì„œ íŒŒì¼ ë‹¤ìš´ë¡œë“œ
- **Input**: `String`, `List<String>`, `Set<String>`, `FileList` (ë‹¤ìš´ë¡œë“œí•  íŒŒì¼ ê²½ë¡œ)
- **Output**: `String` ë˜ëŠ” `List<String>` (ë‹¤ìš´ë¡œë“œëœ íŒŒì¼ ê²½ë¡œ)
- **Error Output**: `List<String>` (ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨í•œ íŒŒì¼ ê²½ë¡œ)
- **íŠ¹ì§•**: 
  - ì¬ê·€ì  ë‹¤ìš´ë¡œë“œ ì§€ì›
  - ë””ë ‰í„°ë¦¬ êµ¬ì¡° ìœ ì§€ ë‹¤ìš´ë¡œë“œ ì˜µì…˜
  - í•œê¸€ íŒŒì¼ëª… ì§€ì›
  - ì—ëŸ¬ íŒŒì¼ ë¬´ì‹œ ì˜µì…˜
  - ì—ëŸ¬ ì‹œ ë‹¤ìš´ë¡œë“œ íŒŒì¼ ìë™ ì‚­ì œ ì˜µì…˜
  - BYTE_ARRAY ë˜ëŠ” FILE íƒ€ì… ë‹¤ìš´ë¡œë“œ ì§€ì›

**5. UploadFiles** (`mb.dnm.service.ftp.UploadFiles`)
- **ê¸°ëŠ¥**: FTP ì„œë²„ì— íŒŒì¼ ì—…ë¡œë“œ
- **Input**: `String`, `List<String>`, `Set<String>`, `FileList` (ì—…ë¡œë“œí•  íŒŒì¼ ê²½ë¡œ)
- **Output**: `List<String>` (ì—…ë¡œë“œëœ FTP ê²½ë¡œ)
- **Error Output**: `List<String>` (ì—…ë¡œë“œ ì‹¤íŒ¨í•œ íŒŒì¼ ê²½ë¡œ)
- **íŠ¹ì§•**: 
  - ë®ì–´ì“°ê¸° ì˜µì…˜
  - ì—ëŸ¬ íŒŒì¼ ë¬´ì‹œ ì˜µì…˜
  - ì—ëŸ¬ ì‹œ ì—…ë¡œë“œ íŒŒì¼ ìë™ ì‚­ì œ ì˜µì…˜

**6. MoveFiles** (`mb.dnm.service.ftp.MoveFiles`)
- **ê¸°ëŠ¥**: FTP ì„œë²„ ë‚´ íŒŒì¼ ì´ë™
- **Input**: `String`, `List<String>`, `Set<String>`, `FileList` (ì´ë™í•  íŒŒì¼ ê²½ë¡œ)
- **Output**: `List<String>` (ì´ë™ëœ íŒŒì¼ ê²½ë¡œ)
- **Error Output**: `List<String>` (ì´ë™ ì‹¤íŒ¨í•œ íŒŒì¼ ê²½ë¡œ)
- **íŠ¹ì§•**: FileTemplate ê¸°ë°˜ ëª©ì ì§€ ê²½ë¡œ ì„¤ì •

**7. DeleteFiles** (`mb.dnm.service.ftp.DeleteFiles`)
- **ê¸°ëŠ¥**: FTP ì„œë²„ íŒŒì¼/ë””ë ‰í„°ë¦¬ ì‚­ì œ
- **Input**: `String`, `List<String>`, `Set<String>`, `FileList` (ì‚­ì œí•  íŒŒì¼ ê²½ë¡œ)
- **Output**: `List<String>` (ì‚­ì œëœ íŒŒì¼ ê²½ë¡œ)
- **Error Output**: `List<String>` (ì‚­ì œ ì‹¤íŒ¨í•œ íŒŒì¼ ê²½ë¡œ)
- **íŠ¹ì§•**: ì—ëŸ¬ íŒŒì¼ ë¬´ì‹œ ì˜µì…˜

#### íŒŒì¼ ì„œë¹„ìŠ¤ ìƒì„¸

**1. ReadFile** (`mb.dnm.service.file.ReadFile`)
- **ê¸°ëŠ¥**: íŒŒì¼ ì½ê¸°
- **Input**: `String` (íŒŒì¼ ê²½ë¡œ)
- **Output**: `byte[]`, `String`, `List<List<Object>>`, `List<Map<String, Object>>` (outputDataTypeì— ë”°ë¼)
- **íŠ¹ì§•**: 
  - ë‹¤ì–‘í•œ ì¶œë ¥ íƒ€ì… ì§€ì› (BYTE_ARRAY, STRING, PARSED_TEXT)
  - íŒŒì¼ íŒŒì‹± ê¸°ëŠ¥ (delimiter, qualifier, recordSeparator ë“±)
  - í—¤ë” ì¡´ì¬ ì—¬ë¶€ì— ë”°ë¥¸ ì¶œë ¥ í˜•ì‹ ë³€ê²½
  - ë©”íƒ€ë°ì´í„° ê¸°ë°˜ íŒŒì‹± ì§€ì›
  - Charset ì„¤ì • ì§€ì›

**2. WriteFile** (`mb.dnm.service.file.WriteFile`)
- **ê¸°ëŠ¥**: íŒŒì¼ ì“°ê¸°
- **Input**: `byte[]`, `String`, `Map<String, Object>`, `List<Map<String, Object>>`
- **Output**: `String` (ìƒì„±ëœ íŒŒì¼ ê²½ë¡œ)
- **íŠ¹ì§•**: 
  - ë®ì–´ì“°ê¸°/ì¶”ê°€ ëª¨ë“œ ì§€ì›
  - ë¹ˆ íŒŒì¼ ìƒì„± í—ˆìš© ì˜µì…˜
  - ë ˆì½”ë“œ êµ¬ë¶„ì, ì»¬ëŸ¼ êµ¬ë¶„ì, í•œì •ì ì„¤ì •
  - NULL/ë¹ˆ ê°’ ì¹˜í™˜ ì˜µì…˜
  - í—¤ë” ì¶”ê°€ ì˜µì…˜
  - Map/List ë°ì´í„° ìë™ í¬ë§·íŒ…

**3. ListFiles** (`mb.dnm.service.file.ListFiles`)
- **ê¸°ëŠ¥**: íŒŒì¼/ë””ë ‰í„°ë¦¬ ëª©ë¡ ì¡°íšŒ
- **Input**: `String` (ë””ë ‰í„°ë¦¬ ê²½ë¡œ, ì„ íƒ)
- **Output**: `FileList` (íŒŒì¼ ëª©ë¡)
- **íŠ¹ì§•**: 
  - ì™€ì¼ë“œì¹´ë“œ íŒŒì¼ëª… íŒ¨í„´ í•„í„° ì§€ì›
  - ì¬ê·€ì  ë””ë ‰í„°ë¦¬ íƒìƒ‰ ì§€ì›
  - íŒŒì¼/ë””ë ‰í„°ë¦¬ íƒ€ì… í•„í„°ë§
  - ë””ë ‰í„°ë¦¬ ìë™ ìƒì„± ì˜µì…˜

**4. CopyFiles** (`mb.dnm.service.file.CopyFiles`)
- **ê¸°ëŠ¥**: íŒŒì¼ ë³µì‚¬
- **Input**: `String`, `List<String>`, `Set<String>`, `FileList` (ë³µì‚¬í•  íŒŒì¼ ê²½ë¡œ)
- **Output**: `List<String>` (ë³µì‚¬ëœ íŒŒì¼ ê²½ë¡œ)
- **Error Output**: `List<String>` (ë³µì‚¬ ì‹¤íŒ¨í•œ íŒŒì¼ ê²½ë¡œ)
- **íŠ¹ì§•**: FileTemplate ê¸°ë°˜ ëª©ì ì§€ ê²½ë¡œ ì„¤ì •

**5. MoveFiles** (`mb.dnm.service.file.MoveFiles`)
- **ê¸°ëŠ¥**: íŒŒì¼ ì´ë™
- **Input**: `String`, `List<String>`, `Set<String>`, `FileList` (ì´ë™í•  íŒŒì¼ ê²½ë¡œ)
- **Output**: `List<String>` (ì´ë™ëœ íŒŒì¼ ê²½ë¡œ)
- **Error Output**: `List<String>` (ì´ë™ ì‹¤íŒ¨í•œ íŒŒì¼ ê²½ë¡œ)
- **íŠ¹ì§•**: FileTemplate ê¸°ë°˜ ëª©ì ì§€ ê²½ë¡œ ì„¤ì •

**6. DeleteFiles** (`mb.dnm.service.file.DeleteFiles`)
- **ê¸°ëŠ¥**: íŒŒì¼/ë””ë ‰í„°ë¦¬ ì‚­ì œ
- **Input**: `String`, `List<String>`, `Set<String>`, `FileList` (ì‚­ì œí•  íŒŒì¼ ê²½ë¡œ)
- **Output**: `List<String>` (ì‚­ì œëœ íŒŒì¼ ê²½ë¡œ)
- **Error Output**: `List<String>` (ì‚­ì œ ì‹¤íŒ¨í•œ íŒŒì¼ ê²½ë¡œ)
- **íŠ¹ì§•**: ì—ëŸ¬ íŒŒì¼ ë¬´ì‹œ ì˜µì…˜

#### ì¼ë°˜ ì„œë¹„ìŠ¤ ìƒì„¸

**1. IterationGroup** (`mb.dnm.service.general.IterationGroup`)
- **ê¸°ëŠ¥**: ë°˜ë³µ ê·¸ë£¹ (ë°˜ë³µë¬¸ ìˆ˜í–‰)
- **Input**: `Iterable` ê°ì²´
- **íŠ¹ì§•**: 
  - Service-Chaining ì—­í•  ìˆ˜í–‰
  - Fetch Size ì„¤ì • (í•œ ë²ˆì— ì²˜ë¦¬í•  ìš”ì†Œ ìˆ˜)
  - ë°˜ë³µë§ˆë‹¤ ìƒˆë¡œìš´ ServiceContext ìƒì„± ì˜µì…˜
  - íŠ¸ëœì­ì…˜/ì„¸ì…˜ ê³µìœ  ì˜µì…˜
  - ì—ëŸ¬ ë°œìƒ ì‹œì—ë„ ê³„ì† ì§„í–‰ ì˜µì…˜
  - BreakIterationì„ í†µí•œ ë°˜ë³µ ì¤‘ë‹¨ ì§€ì›
  - ë‚´ë¶€ Error-Handler ë° Callback ì§€ì›
  - ì¿¼ë¦¬ ì‹œí€€ìŠ¤ ê´€ë¦¬ (ë°˜ë³µë¬¸ ë‚´ì—ì„œ ì†Œì§„ë˜ì§€ ì•ŠìŒ)

**2. TransformData** (`mb.dnm.service.general.TransformData`)
- **ê¸°ëŠ¥**: ë°ì´í„° íƒ€ì… ë³€í™˜
- **Input**: ë³€í™˜í•  ë°ì´í„°
- **Output**: ë³€í™˜ëœ ë°ì´í„°
- **ì§€ì› ë³€í™˜**:
  - BYTE_ARRAY â†” STRING
  - JSON â†” MAP
  - MAP â†’ XML
  - MAP â†’ JSON
  - BYTE_ARRAY â†’ MAP (JSON íŒŒì‹±)
- **íŠ¹ì§•**: Charset ì„¤ì • ì§€ì›, ë°ì´í„° íƒ€ì… ë³€í™˜ ì‹œ ì›ë³¸ ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì—ì„œ ì‚­ì œ ì˜µì…˜

**3. GetSize** (`mb.dnm.service.general.GetSize`)
- **ê¸°ëŠ¥**: ë°ì´í„° í¬ê¸° ì¡°íšŒ
- **Input**: `Object` (í¬ê¸°ë¥¼ í™•ì¸í•  ë°ì´í„°)
- **Output**: `int` (ë°ì´í„° í¬ê¸°)
- **ì§€ì› íƒ€ì…**: Collection, Map, Array, CharSequence, Number, SizeCheckable

**4. PrintInput** (`mb.dnm.service.general.PrintInput`)
- **ê¸°ëŠ¥**: ì…ë ¥ ë°ì´í„° ë¡œê·¸ ì¶œë ¥ (ë””ë²„ê¹…ìš©)
- **Input**: `Object` (ì¶œë ¥í•  ë°ì´í„°)
- **íŠ¹ì§•**: 
  - Collection/Mapì„ JSON/XML í˜•ì‹ìœ¼ë¡œ ì¶œë ¥ ê°€ëŠ¥
  - ë“¤ì—¬ì“°ê¸° ì˜µì…˜

**5. StopIfInputIsNullOrEmpty** (`mb.dnm.service.general.StopIfInputIsNullOrEmpty`)
- **ê¸°ëŠ¥**: ì…ë ¥ì´ nullì´ê±°ë‚˜ ë¹„ì–´ìˆìœ¼ë©´ í”„ë¡œì„¸ìŠ¤ ì¤‘ë‹¨
- **Input**: `Object` (ì²´í¬í•  ë°ì´í„°)
- **Output**: `Object` (ì¡°ê±´ ë¶€í•© ì‹œ ì¶œë ¥í•  ê°’)
- **íŠ¹ì§•**: 
  - Collection, Map, Array, Number, SizeCheckable íƒ€ì… ì§€ì›
  - í”„ë¡œì„¸ìŠ¤ ì¤‘ë‹¨ ì‹œ outputValue ì„¤ì • ê°€ëŠ¥

**6. PauseProcess** (`mb.dnm.service.general.PauseProcess`)
- **ê¸°ëŠ¥**: í”„ë¡œì„¸ìŠ¤ ì¼ì‹œ ì¤‘ì§€
- **íŠ¹ì§•**: ë°€ë¦¬ì´ˆ ë‹¨ìœ„ ì¼ì‹œ ì¤‘ì§€

**7. BreakIteration** (`mb.dnm.service.general.BreakIteration`)
- **ê¸°ëŠ¥**: ë°˜ë³µë¬¸ ì¤‘ë‹¨ (IterationGroup ë‚´ì—ì„œ ì‚¬ìš©)
- **Input**: `Object` (ì²´í¬í•  ë°ì´í„°)
- **íŠ¹ì§•**: Inputì´ nullì´ê±°ë‚˜ ë¹„ì–´ìˆìœ¼ë©´ ë°˜ë³µ ì¤‘ë‹¨

**8. ContinueIteration** (`mb.dnm.service.general.ContinueIteration`)
- **ê¸°ëŠ¥**: ë°˜ë³µë¬¸ ê³„ì† (IterationGroup ë‚´ì—ì„œ ì‚¬ìš©)
- **Input**: `Object` (ì²´í¬í•  ë°ì´í„°)
- **íŠ¹ì§•**: 
  - whenInputEquals: ì…ë ¥ê°’ì´ ì§€ì •ê°’ê³¼ ê°™ìœ¼ë©´ í˜„ì¬ ë°˜ë³µ ê±´ë„ˆë›°ê¸°
  - whenInputNotEquals: ì…ë ¥ê°’ì´ ì§€ì •ê°’ê³¼ ë‹¤ë¥´ë©´ í˜„ì¬ ë°˜ë³µ ê±´ë„ˆë›°ê¸°

**9. ControlInterfaceActivation** (`mb.dnm.service.general.ControlInterfaceActivation`)
- **ê¸°ëŠ¥**: ì¸í„°í˜ì´ìŠ¤ í™œì„±í™”/ë¹„í™œì„±í™” ì œì–´
- **Input**: `Map<String, Object>` (ëª…ë ¹ì–´: $$IF_ID, $$COMMAND, $$KEY)
- **Output**: `Map<String, Object>` (ëª…ë ¹ì–´ ì‹¤í–‰ ê²°ê³¼)
- **ì§€ì› ëª…ë ¹ì–´**: 
  - ACTIVE: ì¸í„°í˜ì´ìŠ¤ í™œì„±í™”
  - INACTIVE: ì¸í„°í˜ì´ìŠ¤ ë¹„í™œì„±í™”
  - RUN: ì¸í„°í˜ì´ìŠ¤ ì¦‰ì‹œ ì‹¤í–‰
- **íŠ¹ì§•**: 
  - ë‹¨ì¼ ì¸í„°í˜ì´ìŠ¤ ë˜ëŠ” ì „ì²´ ì¸í„°í˜ì´ìŠ¤ ì œì–´ ê°€ëŠ¥ (%ALL%)
  - ì•”í˜¸í™”ëœ í‚¤ ê²€ì¦
  - ìê¸° ìì‹  ì¸í„°í˜ì´ìŠ¤ ì œì–´ ë°©ì§€

**10. ThrowException** (`mb.dnm.service.general.ThrowException`)
- **ê¸°ëŠ¥**: ì˜ˆì™¸ ë°œìƒ
- **íŠ¹ì§•**: ì»¤ìŠ¤í…€ ì˜ˆì™¸ ë©”ì‹œì§€ ì„¤ì • ê°€ëŠ¥

**11. OutputCustomData** (`mb.dnm.service.general.OutputCustomData`)
- **ê¸°ëŠ¥**: ì»¤ìŠ¤í…€ ë°ì´í„° ì¶œë ¥
- **Output**: `Object` (ì¶œë ¥í•  ë°ì´í„°)
- **íŠ¹ì§•**: íƒ€ì… ìºìŠ¤íŒ… ì§€ì›

#### ì•”í˜¸í™” ì„œë¹„ìŠ¤ ìƒì„¸

**1. Encrypt** (`mb.dnm.service.crypto.Encrypt`)
- **ê¸°ëŠ¥**: ë°ì´í„° ì•”í˜¸í™”
- **Input**: `Object` (ì•”í˜¸í™”í•  ë°ì´í„°)
- **Output**: `byte[]` (ì•”í˜¸í™”ëœ ë°ì´í„°)
- **ì§€ì› ì•”í˜¸í™” íƒ€ì…**: 
  - SEED128
  - ARIA128
  - JASYPT (PBEWithSHA1AndDESede)
- **íŠ¹ì§•**: 
  - ê°ì²´ ì§ë ¬í™” í›„ ì•”í˜¸í™”
  - GZip ì••ì¶• ì§€ì›
  - ì»¤ìŠ¤í…€ í‚¤ ì„¤ì • ê°€ëŠ¥

**2. Decrypt** (`mb.dnm.service.crypto.Decrypt`)
- **ê¸°ëŠ¥**: ë°ì´í„° ë³µí˜¸í™”
- **Input**: `byte[]` (ì•”í˜¸í™”ëœ ë°ì´í„°)
- **Output**: `Object` (ë³µí˜¸í™”ëœ ë°ì´í„°)
- **ì§€ì› ë³µí˜¸í™” íƒ€ì…**: SEED128, ARIA128, JASYPT
- **íŠ¹ì§•**: GZip ì••ì¶• í•´ì œ ì§€ì›

#### ë™ì  ì½”ë“œ ì„œë¹„ìŠ¤ ìƒì„¸

**1. ExecuteDynamicCode** (`mb.dnm.service.dynamic.ExecuteDynamicCode`)
- **ê¸°ëŠ¥**: ë™ì ìœ¼ë¡œ ì»´íŒŒì¼ëœ Java ì½”ë“œ ì‹¤í–‰
- **íŠ¹ì§•**: 
  - Dynamic Code Sequence ìë™ ê´€ë¦¬
  - Error Dynamic Code Sequence ì§€ì›
  - íŠ¹ì • codeId ì§€ì • ì‹¤í–‰ ê°€ëŠ¥
  - ServiceContext ì ‘ê·¼ ê°€ëŠ¥
  - MyBatis Mapper ê¸°ëŠ¥ í™œìš© ê°€ëŠ¥
  - ëŸ°íƒ€ì„ ì»´íŒŒì¼ ë° ì‹¤í–‰

#### HTTP ì„œë¹„ìŠ¤ ìƒì„¸

**1. SetHttpResponseBody** (`mb.dnm.service.http.SetHttpResponseBody`)
- **ê¸°ëŠ¥**: HTTP ì‘ë‹µ ë°”ë”” ì„¤ì •
- **Input**: `Object` (ì‘ë‹µ ë°”ë”” ë°ì´í„°)
- **íŠ¹ì§•**: 
  - HttpRequestDispatcherì—ì„œ ìë™ ì²˜ë¦¬
  - Content-Type ìë™ ê²°ì • (JSON/XML)
  - HttpAPITemplate ì„¤ì • ë”°ë¦„

#### JMS ì„œë¹„ìŠ¤ ìƒì„¸

**1. AbstractJMSService** (`mb.dnm.service.jms.AbstractJMSService`)
- **ê¸°ëŠ¥**: JMS ë©”ì‹œì§€ ì†¡ìˆ˜ì‹ ì„ ìœ„í•œ ì¶”ìƒ í´ë˜ìŠ¤
- **íŠ¹ì§•**: JMS ì—°ê³„ë¥¼ ìœ„í•œ ê¸°ë³¸ í´ë˜ìŠ¤ ì œê³µ

### Dynamic-Code êµ¬í˜„ ë°©ì‹ ìƒì„¸

#### íŒŒì¼ êµ¬ì¡° ë° ë¬¸ë²•

**íŒŒì¼ í™•ì¥ì**: `.dnc` (Dynamic Code)

**íŒŒì¼ êµ¬ì¡°**:
```
#namespace: <namespace>
#code_id: <code_id>
#{
    // Java ì½”ë“œ
}#
```

**ë¬¸ë²• ê·œì¹™**:
- `#namespace:`: Dynamic Codeì˜ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ (í•„ìˆ˜)
  - í—ˆìš© ë¬¸ì: ì•ŒíŒŒë²³, ìˆ«ì, ì–¸ë”ìŠ¤ì½”ì–´, í•˜ì´í”ˆ
  - ê¸ˆì§€ ë¬¸ì: `#`, `:`, `.`, `{`, `}`
- `#code_id:`: Dynamic Codeì˜ ê³ ìœ  ID (í•„ìˆ˜)
  - ê°™ì€ íŒŒì¼ ë‚´ì—ì„œ ì¤‘ë³µ ë¶ˆê°€
  - ê¸ˆì§€ ë¬¸ì: `#`, `:`, `.`, `{`, `}`
- `#{ ... }#`: ì‹¤ì œ Java ì½”ë“œ ë¸”ë¡ (í•„ìˆ˜)
- `#implements <í´ë˜ìŠ¤ëª…>;`: ì»¤ìŠ¤í…€ Wrapper í´ë˜ìŠ¤ ì§€ì • (ì„ íƒ)
- `#import <í´ë˜ìŠ¤ëª…>;`: ìˆ˜ë™ Import ì§€ì • (ì„ íƒ)

**ì˜ˆì‹œ**:
```java
#namespace: IF_TEST
#code_id: TRANSFORM_DATA
#import java.util.regex.Pattern;
#implements mb.dnm.core.dynamic.AbstractDynamicCode;
#{
    // ì½”ë“œ êµ¬í˜„
    List<Map<String, Object>> data = (List<Map<String, Object>>) getInput(ctx, "input_data");
    // ...
}#
```

#### ì»´íŒŒì¼ í”„ë¡œì„¸ìŠ¤

**ì „ì²´ í”„ë¡œì„¸ìŠ¤**:

```
1. .dnc íŒŒì¼ íŒŒì‹±
   â†“
2. DynamicCodeHolder ìƒì„±
   â†“
3. Java ì†ŒìŠ¤ ì½”ë“œ ìƒì„± (í…œí”Œë¦¿ ê¸°ë°˜)
   â†“
4. Java ì»´íŒŒì¼ëŸ¬ë¡œ ì»´íŒŒì¼
   â†“
5. URLClassLoaderë¡œ í´ë˜ìŠ¤ ë¡œë“œ
   â†“
6. DynamicCodeInstance ìƒì„±
   â†“
7. ì‹¤í–‰
```

**ìƒì„¸ ë‹¨ê³„**:

1. **íŒŒì¼ íŒŒì‹±** (`DynamicCodeCompiler.compile()`):
   - `.dnc` íŒŒì¼ì„ ì½ì–´ì„œ namespace, code_id, ì½”ë“œ ë¸”ë¡ ì¶”ì¶œ
   - `#import` ë¬¸ íŒŒì‹±í•˜ì—¬ Import í´ë˜ìŠ¤ ëª©ë¡ ìƒì„±
   - `#implements` ë¬¸ íŒŒì‹±í•˜ì—¬ Wrapper í´ë˜ìŠ¤ ê²°ì •
   - ê¸ˆì§€ëœ í‚¤ì›Œë“œ ê²€ì¦ (`ImportSupporter.assertProhibited()`)

2. **ìë™ Import ì²˜ë¦¬** (`ImportSupporter.retrieveAutoImportClasses()`):
   - ì½”ë“œì—ì„œ ì‚¬ìš©ëœ í´ë˜ìŠ¤ëª…ì„ ë¶„ì„í•˜ì—¬ ìë™ Import ì¶”ê°€
   - ì§€ì›ë˜ëŠ” ìë™ Import í´ë˜ìŠ¤:
     - Java í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬: `List`, `Map`, `ArrayList`, `HashMap` ë“±
     - ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤: `MessageUtil`, `StringUtil`, `TimeUtil`
     - Core í´ë˜ìŠ¤: `ServiceContext`, `AbstractDynamicCode`
     - ê¸°íƒ€: `Logger`, `File`, `Path`, `Files` ë“±

3. **Java ì†ŒìŠ¤ ì½”ë“œ ìƒì„±**:
   - Wrapper í´ë˜ìŠ¤ì˜ í…œí”Œë¦¿ íŒŒì¼ ë¡œë“œ (`dynamic_templates/.AbstractDynamicCode.template`)
   - í…œí”Œë¦¿ì˜ Placeholder ì¹˜í™˜:
     - `${import}`: Import ë¬¸ ëª©ë¡
     - `${class_name}`: ìƒì„±ë  í´ë˜ìŠ¤ëª…
     - `${code}`: ì‚¬ìš©ìê°€ ì‘ì„±í•œ ì½”ë“œ
   - í´ë˜ìŠ¤ëª… ìƒì„± ê·œì¹™: `AbstractDynamicCode$<namespace_hash>$<code_id_hash>`

4. **ì»´íŒŒì¼**:
   - `ToolProvider.getSystemJavaCompiler()`ë¡œ Java ì»´íŒŒì¼ëŸ¬ íšë“
   - Classpath ì„¤ì • (ì• í”Œë¦¬ì¼€ì´ì…˜ í´ë˜ìŠ¤íŒ¨ìŠ¤ + ìƒì„±ëœ í´ë˜ìŠ¤ ê²½ë¡œ)
   - ì»´íŒŒì¼ ì˜µì…˜: `-classpath` ì„¤ì •
   - ì»´íŒŒì¼ ê²°ê³¼ ê²€ì¦ (`DiagnosticCollector` ì‚¬ìš©)

5. **í´ë˜ìŠ¤ ë¡œë“œ**:
   - `URLClassLoader`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì»´íŒŒì¼ëœ í´ë˜ìŠ¤ ë¡œë“œ
   - ë¶€ëª¨ ClassLoaderëŠ” í˜„ì¬ ìŠ¤ë ˆë“œì˜ ContextClassLoader ì‚¬ìš©
   - ìƒì„±ëœ `.class` íŒŒì¼ ê²½ë¡œë¥¼ `GENERATED_CLASS_FILES`ì— ë“±ë¡ (ì¢…ë£Œ ì‹œ ì‚­ì œ)

6. **ì¸ìŠ¤í„´ìŠ¤ ìƒì„±** (`DynamicCodeInstance`):
   - ë¡œë“œëœ í´ë˜ìŠ¤ë¡œ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
   - `execute(ServiceContext)` ë©”ì†Œë“œ ë¦¬í”Œë ‰ì…˜ìœ¼ë¡œ íšë“
   - Resource, ID, í´ë˜ìŠ¤ ì •ë³´ ì €ì¥

#### í´ë˜ìŠ¤ êµ¬ì¡°

**ì¸í„°í˜ì´ìŠ¤ ê³„ì¸µ**:

```
DynamicCode (ì¸í„°í˜ì´ìŠ¤)
  â””â”€â”€ execute(ServiceContext ctx) throws Throwable

AbstractDynamicCode (ì¶”ìƒ í´ë˜ìŠ¤)
  â””â”€â”€ execute(ServiceContext ctx) throws Throwable (abstract)
  â””â”€â”€ getInput(ServiceContext ctx, String inputName)
  â””â”€â”€ setOutputValue(ServiceContext ctx, String outputName, Object value)
  â””â”€â”€ stopService(ServiceContext ctx)

ìƒì„±ëœ ë™ì  í´ë˜ìŠ¤ (ëŸ°íƒ€ì„ ìƒì„±)
  â””â”€â”€ AbstractDynamicCode$<namespace_hash>$<code_id_hash>
      â””â”€â”€ execute(ServiceContext ctx) throws Throwable (êµ¬í˜„)
```

**í…œí”Œë¦¿ êµ¬ì¡°** (`dynamic_templates/.AbstractDynamicCode.template`):

```java
${import}

public class ${class_name} extends AbstractDynamicCode {
    @Override
    public void execute(ServiceContext ctx) throws Throwable {
        ${code}
    }
}
```

#### ë©€í‹°ìŠ¤ë ˆë“œ ì»´íŒŒì¼

**ì§€ì› ë°©ì‹**:
- `compileAll(Resource[] resources, int threadCount)` ë©”ì†Œë“œë¡œ ë©€í‹°ìŠ¤ë ˆë“œ ì»´íŒŒì¼ ì§€ì›
- `ExecutorService`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì—¬ëŸ¬ `.dnc` íŒŒì¼ì„ ë³‘ë ¬ë¡œ ì»´íŒŒì¼
- ê° ì»´íŒŒì¼ ì‘ì—…ì€ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©°, ì™„ë£Œ í›„ ê²°ê³¼ë¥¼ ìˆ˜ì§‘

**ì‚¬ìš© ì˜ˆì‹œ**:
```java
// ë‹¨ì¼ ìŠ¤ë ˆë“œ ì»´íŒŒì¼
List<DynamicCodeInstance> instances = DynamicCodeCompiler.compileAll(resources);

// ë©€í‹°ìŠ¤ë ˆë“œ ì»´íŒŒì¼ (4ê°œ ìŠ¤ë ˆë“œ)
List<DynamicCodeInstance> instances = DynamicCodeCompiler.compileAll(resources, 4);
```

#### ë³´ì•ˆ ë° ê²€ì¦

**ê¸ˆì§€ëœ í‚¤ì›Œë“œ ê²€ì¦**:
- `ImportSupporter.assertProhibited()` ë©”ì†Œë“œë¡œ ì½”ë“œ ë‚´ ê¸ˆì§€ëœ í‚¤ì›Œë“œ ê²€ì¦
  - `Thread`, `Runtime`, `System`, `ClassLoader` ë“±
  - `exit`, `run`, `start` ë“±

**ì»´íŒŒì¼ ì—ëŸ¬ ì²˜ë¦¬**:
- `DynamicCodeCompileException`ìœ¼ë¡œ ì»´íŒŒì¼ ì—ëŸ¬ ìƒì„¸ ì •ë³´ ì œê³µ
- ì—ëŸ¬ ë©”ì‹œì§€ì— namespace, code_id, ë¦¬ì†ŒìŠ¤ ì •ë³´ í¬í•¨
- `DiagnosticCollector`ë¥¼ í†µí•œ ì»´íŒŒì¼ëŸ¬ ì§„ë‹¨ ì •ë³´ ìˆ˜ì§‘

#### Classpath ê´€ë¦¬

**Classpath êµ¬ì„±**:
- ê¸°ë³¸: `System.getProperty("java.class.path")`
- INDIGO í™˜ê²½: `.classpath` XML íŒŒì¼ì—ì„œ ì½ì–´ì˜¨ Classpath ì‚¬ìš©
- `ClassPathFactory`ë¥¼ í†µí•´ `.classpath` íŒŒì¼ íŒŒì‹±
- ìƒì„±ëœ í´ë˜ìŠ¤ ê²½ë¡œë„ Classpathì— í¬í•¨

**Classpath íŒŒì¼ êµ¬ì¡°** (`.classpath`):
```xml
<classpath>
    <classpathentry pdName="AD" path="..."/>
    <classpathentry pdName="AD" path="..."/>
</classpath>
```

#### ë¦¬ì†ŒìŠ¤ ê´€ë¦¬

**ìƒì„±ëœ íŒŒì¼ ê´€ë¦¬**:
- Java ì†ŒìŠ¤ íŒŒì¼ (`.java`): ì»´íŒŒì¼ í›„ ìë™ ì‚­ì œ
- í´ë˜ìŠ¤ íŒŒì¼ (`.class`): `GENERATED_CLASS_FILES`ì— ë“±ë¡ë˜ì–´ ì¢…ë£Œ ì‹œ ì‚­ì œ
- Shutdown Hookì„ í†µí•´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œ ì‹œ ëª¨ë“  ìƒì„±ëœ í´ë˜ìŠ¤ íŒŒì¼ ì‚­ì œ

**ì €ì¥ ê²½ë¡œ**:
- Standalone ëª¨ë“œ: `./dnmcodes/`
- INDIGO í™˜ê²½: `../configure/<adaptor_name>/dnmcodes/`

#### ì‹¤í–‰ ë©”ì»¤ë‹ˆì¦˜

**DynamicCodeInstance ì‹¤í–‰**:
```java
public void execute(ServiceContext ctx) throws Exception {
    if (instance != null) {
        method.invoke(instance, ctx);
        return;
    }
    throw new IllegalStateException("The dynamic code instance has not been created.");
}
```

- ë¦¬í”Œë ‰ì…˜ì„ ì‚¬ìš©í•˜ì—¬ `execute(ServiceContext)` ë©”ì†Œë“œ í˜¸ì¶œ
- ê° ì‹¤í–‰ë§ˆë‹¤ ë™ì¼í•œ ì¸ìŠ¤í„´ìŠ¤ ì¬ì‚¬ìš© (ì‹±ê¸€í†¤ íŒ¨í„´ ì•„ë‹˜)
- `ServiceContext`ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•˜ì—¬ ë°ì´í„° ì ‘ê·¼ ê°€ëŠ¥

#### Wrapper í´ë˜ìŠ¤ ì»¤ìŠ¤í„°ë§ˆì´ì§•

**ê¸°ë³¸ Wrapper í´ë˜ìŠ¤**: `AbstractDynamicCode`

**ì»¤ìŠ¤í…€ Wrapper í´ë˜ìŠ¤ ì‚¬ìš©**:
```java
#namespace: IF_TEST
#code_id: CUSTOM_CODE
#implements mb.dnm.custom.CustomWrapper;
#{
    // ì½”ë“œ êµ¬í˜„
}#
```

**Wrapper í´ë˜ìŠ¤ ìš”êµ¬ì‚¬í•­**:
- `DynamicCode` ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì•¼ í•¨
- ì¶”ìƒ í´ë˜ìŠ¤ì—¬ì•¼ í•¨
- `execute(ServiceContext ctx)` ë©”ì†Œë“œê°€ ì¶”ìƒ ë©”ì†Œë“œì—¬ì•¼ í•¨
- í…œí”Œë¦¿ íŒŒì¼ì´ `dynamic_templates/` ë””ë ‰í† ë¦¬ì— ìˆì–´ì•¼ í•¨

#### ì£¼ìš” í´ë˜ìŠ¤ ì„¤ëª…

**DynamicCodeCompiler**:
- Dynamic Code ì»´íŒŒì¼ì˜ í•µì‹¬ í´ë˜ìŠ¤
- Singleton íŒ¨í„´ ì‚¬ìš©
- íŒŒì¼ íŒŒì‹±, ì½”ë“œ ìƒì„±, ì»´íŒŒì¼, í´ë˜ìŠ¤ ë¡œë“œ ë‹´ë‹¹

**DynamicCodeHolder**:
- íŒŒì‹±ëœ Dynamic Code ì •ë³´ë¥¼ ë‹´ëŠ” ì»¨í…Œì´ë„ˆ
- namespace, code_id, source, imports, wrapperClass ì €ì¥
- í´ë˜ìŠ¤ëª… ìƒì„± ë¡œì§ í¬í•¨

**DynamicCodeInstance**:
- ì»´íŒŒì¼ëœ Dynamic Codeì˜ ì‹¤í–‰ ê°€ëŠ¥í•œ ì¸ìŠ¤í„´ìŠ¤
- ë¦¬í”Œë ‰ì…˜ì„ í†µí•œ ë©”ì†Œë“œ í˜¸ì¶œ ìºì‹±
- Resource, ID, í´ë˜ìŠ¤ ì •ë³´ ê´€ë¦¬

**ImportSupporter**:
- ìë™ Import í´ë˜ìŠ¤ ê´€ë¦¬
- ê¸ˆì§€ëœ í‚¤ì›Œë“œ ê²€ì¦
- ì½”ë“œ ë¶„ì„ì„ í†µí•œ Import í´ë˜ìŠ¤ ì¶”ì¶œ

**AbstractDynamicCode**:
- ê¸°ë³¸ Wrapper í´ë˜ìŠ¤
- `ServiceContext` ì ‘ê·¼ì„ ìœ„í•œ í—¬í¼ ë©”ì†Œë“œ ì œê³µ
- `getInput()`, `setOutputValue()`, `stopService()` ë©”ì†Œë“œ ì œê³µ

### Service êµ¬í˜„ íŒ¨í„´ ìƒì„¸

#### ìƒì† ê³„ì¸µ êµ¬ì¡° ìƒì„¸

**1. Service ì¸í„°í˜ì´ìŠ¤**:
- ëª¨ë“  Serviceì˜ ê¸°ë³¸ ì¸í„°í˜ì´ìŠ¤
- ì£¼ìš” ë©”ì†Œë“œ: `process(ServiceContext ctx)`, `setIgnoreError()`, `isIgnoreError()`, `setDescription()`, `getDescription()`

**2. AbstractService**:
- ëª¨ë“  Serviceì˜ ê¸°ë³¸ ì¶”ìƒ í´ë˜ìŠ¤
- ì£¼ìš” ì†ì„±: `ignoreError`, `exceptionHandlingMode`, `description`

**3. ParameterAssignableService**:
- Input/Output íŒŒë¼ë¯¸í„°ë¥¼ ì§€ì›í•˜ëŠ” ì¶”ìƒ í´ë˜ìŠ¤
- ì£¼ìš” ì†ì„±: `input`, `output`, `errorOutput`
- ì£¼ìš” ë©”ì†Œë“œ: `getInputValue()`, `setOutputValue()`, `setErrorOutputValue()`

**4. SourceAccessService**:
- ì™¸ë¶€ ë¦¬ì†ŒìŠ¤(DB, FTP ë“±)ì— ì ‘ê·¼í•˜ëŠ” Serviceë¥¼ ìœ„í•œ ì¶”ìƒ í´ë˜ìŠ¤
- ì£¼ìš” ì†ì„±: `sourceName`, `sourceAlias`
- ì£¼ìš” ë©”ì†Œë“œ: `getSourceName(InterfaceInfo info)`

**5. AbstractFTPService**:
- FTP ì„œë¹„ìŠ¤ ì „ìš© ì¶”ìƒ í´ë˜ìŠ¤
- ì£¼ìš” ê¸°ëŠ¥: FTP ì„¸ì…˜ ì¬ì‚¬ìš© ì§€ì›
- ì£¼ìš” ë©”ì†Œë“œ: `getFTPSession(ServiceContext ctx, String srcName)`

#### ì„œë¹„ìŠ¤ íƒ€ì…ë³„ êµ¬í˜„ íŒ¨í„´ ìƒì„¸

**DB ì„œë¹„ìŠ¤ íŒ¨í„´**:
```java
public class Select extends ParameterAssignableService {
    @Override
    public void process(ServiceContext ctx) {
        // 1. QueryMap ì¡°íšŒ
        QueryMap queryMap = ctx.nextQueryMap();
        String executorName = queryMap.getExecutorName();
        
        // 2. QueryExecutor ì¡°íšŒ
        QueryExecutor executor = DataSourceProvider.access().getExecutor(executorName);
        TransactionContext txContext = ctx.getTransactionContext(queryMap);
        
        // 3. Input íŒŒë¼ë¯¸í„° ì¤€ë¹„
        Object inValue = getInputValue(ctx);
        Map<String, Object> ctxInfoMap = ctx.getContextInformation();
        
        // 4. ì¿¼ë¦¬ ì‹¤í–‰
        List<Map<String, Object>> result = executor.doSelect(
            txContext, 
            queryMap.getQueryId(), 
            ctxInfoMap
        );
        
        // 5. ê²°ê³¼ ì €ì¥
        setOutputValue(ctx, result);
    }
}
```

**FTP ì„œë¹„ìŠ¤ íŒ¨í„´**:
```java
public class DownloadFiles extends AbstractFTPService {
    @Override
    public void process(ServiceContext ctx) throws Throwable {
        InterfaceInfo info = ctx.getInfo();
        String srcName = getFTPSourceName(info);
        
        // FTP ì„¸ì…˜ ì¡°íšŒ (ìë™ ìƒì„±)
        FTPSession session = getFTPSession(ctx, srcName);
        
        // íŒŒì¼ ë‹¤ìš´ë¡œë“œ ë¡œì§
        Object inputVal = getInputValue(ctx);
        List<String> downloadedFiles = downloadFiles(session, inputVal);
        
        // ê²°ê³¼ ì €ì¥
        setOutputValue(ctx, downloadedFiles);
    }
}
```

**íŒŒì¼ ì„œë¹„ìŠ¤ íŒ¨í„´**:
```java
public class ReadFile extends SourceAccessService {
    @Override
    public void process(ServiceContext ctx) throws Throwable {
        InterfaceInfo info = ctx.getInfo();
        String srcName = info.getSourceNameByAlias(getSourceAlias());
        
        // FileTemplate ì¡°íšŒ
        FileTemplate template = info.getFileTemplate(srcName);
        
        // Input íŒŒì¼ ê²½ë¡œ ì¡°íšŒ
        Object inputVal = getInputValue(ctx);
        Path filePath = Paths.get((String) inputVal);
        
        // íŒŒì¼ ì½ê¸°
        Object fileData = readFile(filePath, template);
        
        // ê²°ê³¼ ì €ì¥
        setOutputValue(ctx, fileData);
    }
}
```

#### Best Practices

**1. ì…ë ¥ ê²€ì¦**:
- í•„ìˆ˜ Inputì´ nullì¸ì§€ í™•ì¸
- ë°ì´í„° íƒ€ì… ê²€ì¦
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê²€ì¦

**2. ì—ëŸ¬ ì²˜ë¦¬**:
- ëª…í™•í•œ ì—ëŸ¬ ë©”ì‹œì§€ ì œê³µ
- `InvalidServiceConfigurationException` ì‚¬ìš© (ì„¤ì • ì˜¤ë¥˜)
- ì ì ˆí•œ ì˜ˆì™¸ íƒ€ì… ì„ íƒ

**3. ë¦¬ì†ŒìŠ¤ ê´€ë¦¬**:
- ì„¸ì…˜/ì—°ê²° ì¬ì‚¬ìš© (FTP ì„¸ì…˜ ë“±)
- íŠ¸ëœì­ì…˜ ê´€ë¦¬ (DB ì„œë¹„ìŠ¤)
- ë¦¬ì†ŒìŠ¤ ì •ë¦¬ëŠ” Callbackì—ì„œ ì²˜ë¦¬

**4. ì„±ëŠ¥ ê³ ë ¤**:
- ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ì‹œ ìŠ¤íŠ¸ë¦¬ë° ì‚¬ìš©
- ë¶ˆí•„ìš”í•œ ë°ì´í„° ë³µì‚¬ ë°©ì§€
- ë©”ëª¨ë¦¬ íš¨ìœ¨ì ì¸ ë°ì´í„° êµ¬ì¡° ì‚¬ìš©

**5. ë¡œê¹…**:
- íŠ¸ëœì­ì…˜ ID í¬í•¨ (`ctx.getTxId()`)
- ì ì ˆí•œ ë¡œê·¸ ë ˆë²¨ ì‚¬ìš©
- ë¯¼ê°í•œ ì •ë³´ëŠ” ë¡œê·¸ì—ì„œ ì œì™¸

**6. í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ì„±**:
- `ServiceContext`ë¥¼ í†µí•œ ì˜ì¡´ì„± ì£¼ì…
- Providerë¥¼ í†µí•œ ì™¸ë¶€ ë¦¬ì†ŒìŠ¤ ì ‘ê·¼
- ìˆœìˆ˜ í•¨ìˆ˜í˜• ë¡œì§ ë¶„ë¦¬

---

## ë¶€ë¡

### Service ìƒì„¸ ëª©ë¡

ê° Serviceì˜ ìƒì„¸í•œ ê¸°ëŠ¥, Input/Output íƒ€ì…, ì£¼ìš” íŠ¹ì§•ì„ ì •ë¦¬í•œ ëª©ë¡ì…ë‹ˆë‹¤.

#### DB ì„œë¹„ìŠ¤ ìƒì„¸

**1. Select** (`mb.dnm.service.db.Select`)
- **ê¸°ëŠ¥**: ë°ì´í„°ë² ì´ìŠ¤ SELECT ì¿¼ë¦¬ ì‹¤í–‰
- **Input**: `Map<String, Object>` (ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°)
- **Output**: `List<Map<String, Object>>` ë˜ëŠ” `int` (handleResultSet=trueì¸ ê²½ìš°)
- **íŠ¹ì§•**:
  - MyBatis Mapper ê¸°ë°˜ ì¿¼ë¦¬ ì‹¤í–‰
  - Query Sequence ìë™ ê´€ë¦¬
  - Result Handling ì§€ì› (ëŒ€ìš©ëŸ‰ ê²°ê³¼ ì²˜ë¦¬)
  - Error Query Mode ì§€ì›
  - íŠ¹ì • queryId ì§€ì • ì‹¤í–‰ ê°€ëŠ¥

**2. Insert** (`mb.dnm.service.db.Insert`)
- **ê¸°ëŠ¥**: ë°ì´í„°ë² ì´ìŠ¤ INSERT ì¿¼ë¦¬ ì‹¤í–‰
- **Input**: `Map<String, Object>` (ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°)
- **Output**: `int` (ì˜í–¥ë°›ì€ í–‰ ìˆ˜)
- **íŠ¹ì§•**: Query Sequence ìë™ ê´€ë¦¬, Error Query Mode ì§€ì›

**3. Update** (`mb.dnm.service.db.Update`)
- **ê¸°ëŠ¥**: ë°ì´í„°ë² ì´ìŠ¤ UPDATE ì¿¼ë¦¬ ì‹¤í–‰
- **Input**: `Map<String, Object>` (ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°)
- **Output**: `int` (ì˜í–¥ë°›ì€ í–‰ ìˆ˜)
- **íŠ¹ì§•**: Query Sequence ìë™ ê´€ë¦¬, Error Query Mode ì§€ì›

**4. Delete** (`mb.dnm.service.db.Delete`)
- **ê¸°ëŠ¥**: ë°ì´í„°ë² ì´ìŠ¤ DELETE ì¿¼ë¦¬ ì‹¤í–‰
- **Input**: `Map<String, Object>` (ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°)
- **Output**: `int` (ì˜í–¥ë°›ì€ í–‰ ìˆ˜)
- **íŠ¹ì§•**: Query Sequence ìë™ ê´€ë¦¬, Error Query Mode ì§€ì›

**5. CallProcedure** (`mb.dnm.service.db.CallProcedure`)
- **ê¸°ëŠ¥**: ì €ì¥ í”„ë¡œì‹œì € í˜¸ì¶œ
- **Input**: `Map<String, Object>` (í”„ë¡œì‹œì € íŒŒë¼ë¯¸í„°)
- **Output**: `List<Map<String, Object>>` (í”„ë¡œì‹œì € ê²°ê³¼)
- **íŠ¹ì§•**: OUT íŒŒë¼ë¯¸í„° ì§€ì›, ì»¤ì„œ ê²°ê³¼ ì²˜ë¦¬

**6. OpenCursor** (`mb.dnm.service.db.OpenCursor`)
- **ê¸°ëŠ¥**: ë°ì´í„°ë² ì´ìŠ¤ ì»¤ì„œ ì—´ê¸°
- **íŠ¹ì§•**: Fetch ì„œë¹„ìŠ¤ì™€ ì—°ê³„í•˜ì—¬ ì‚¬ìš©, ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ì§€ì›

**7. Fetch** (`mb.dnm.service.db.Fetch`)
- **ê¸°ëŠ¥**: ì—´ë¦° ì»¤ì„œì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
- **Output**: `List<Map<String, Object>>` (Fetch ê²°ê³¼)
- **íŠ¹ì§•**: OpenCursor ë˜ëŠ” CallProcedureì™€ ì—°ê³„ ì‚¬ìš©, íŠ¸ëœì­ì…˜ ê·¸ë£¹ í•„ìˆ˜

**8. StartTransaction** (`mb.dnm.service.db.StartTransaction`)
- **ê¸°ëŠ¥**: íŠ¸ëœì­ì…˜ ê·¸ë£¹ ì‹œì‘
- **íŠ¹ì§•**: 
  - ì—¬ëŸ¬ ì¿¼ë¦¬ë¥¼ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¬¶ìŒ
  - Source Aliasë³„ íŠ¸ëœì­ì…˜ ê·¸ë£¹ ì§€ì • ê°€ëŠ¥
  - ì¤‘ë³µ ì„¤ì • ë°©ì§€

**9. Commit** (`mb.dnm.service.db.Commit`)
- **ê¸°ëŠ¥**: íŠ¸ëœì­ì…˜ ì»¤ë°‹
- **íŠ¹ì§•**: 
  - StartTransactionìœ¼ë¡œ ì‹œì‘ëœ íŠ¸ëœì­ì…˜ ì»¤ë°‹
  - Source Aliasë³„ ì„ íƒì  ì»¤ë°‹ ê°€ëŠ¥
  - ì»¤ë°‹ ì‹¤íŒ¨ ì‹œ ìë™ ë¡¤ë°±

**10. Rollback** (`mb.dnm.service.db.Rollback`)
- **ê¸°ëŠ¥**: íŠ¸ëœì­ì…˜ ë¡¤ë°±
- **íŠ¹ì§•**: 
  - StartTransactionìœ¼ë¡œ ì‹œì‘ëœ íŠ¸ëœì­ì…˜ ë¡¤ë°±
  - Source Aliasë³„ ì„ íƒì  ë¡¤ë°± ê°€ëŠ¥

**11. EndTransaction** (`mb.dnm.service.db.EndTransaction`)
- **ê¸°ëŠ¥**: íŠ¸ëœì­ì…˜ ìë™ ì¢…ë£Œ (ì—ëŸ¬ ì—¬ë¶€ì— ë”°ë¼ Commit ë˜ëŠ” Rollback)
- **íŠ¹ì§•**: 
  - ServiceContextì˜ ì—ëŸ¬ ì´ë ¥ í™•ì¸
  - ì—ëŸ¬ ì¡´ì¬ ì‹œ Rollback, ì—†ìœ¼ë©´ Commit
  - Source Aliasë³„ ì„ íƒì  ì²˜ë¦¬ ê°€ëŠ¥

#### FTP ì„œë¹„ìŠ¤ ìƒì„¸

**1. FTPLogin** (`mb.dnm.service.ftp.FTPLogin`)
- **ê¸°ëŠ¥**: FTP ì„œë²„ ë¡œê·¸ì¸
- **íŠ¹ì§•**: 
  - ServiceContext ë‚´ ì„¸ì…˜ ì¬ì‚¬ìš© ì§€ì›
  - Source Aliasë¥¼ í†µí•œ FTP ì„œë²„ ì„ íƒ
  - í•œê¸€ íŒŒì¼ëª… ì§€ì› (controlEncoding ì„¤ì •)

**2. FTPLogout** (`mb.dnm.service.ftp.FTPLogout`)
- **ê¸°ëŠ¥**: FTP ì„œë²„ ë¡œê·¸ì•„ì›ƒ
- **íŠ¹ì§•**: ì„¸ì…˜ ì•ˆì „ ì¢…ë£Œ

**3. ListFiles** (`mb.dnm.service.ftp.ListFiles`)
- **ê¸°ëŠ¥**: FTP ì„œë²„ íŒŒì¼/ë””ë ‰í„°ë¦¬ ëª©ë¡ ì¡°íšŒ
- **Input**: `String` (ë””ë ‰í„°ë¦¬ ê²½ë¡œ, ì„ íƒ)
- **Output**: `FileList` (íŒŒì¼ ëª©ë¡)
- **íŠ¹ì§•**: 
  - ì™€ì¼ë“œì¹´ë“œ íŒŒì¼ëª… íŒ¨í„´ í•„í„° ì§€ì›
  - ì¬ê·€ì  ë””ë ‰í„°ë¦¬ íƒìƒ‰ ì§€ì›
  - íŒŒì¼/ë””ë ‰í„°ë¦¬ íƒ€ì… í•„í„°ë§
  - ë””ë ‰í„°ë¦¬ ìë™ ìƒì„± ì˜µì…˜

**4. DownloadFiles** (`mb.dnm.service.ftp.DownloadFiles`)
- **ê¸°ëŠ¥**: FTP ì„œë²„ì—ì„œ íŒŒì¼ ë‹¤ìš´ë¡œë“œ
- **Input**: `String`, `List<String>`, `Set<String>`, `FileList` (ë‹¤ìš´ë¡œë“œí•  íŒŒì¼ ê²½ë¡œ)
- **Output**: `String` ë˜ëŠ” `List<String>` (ë‹¤ìš´ë¡œë“œëœ íŒŒì¼ ê²½ë¡œ)
- **Error Output**: `List<String>` (ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨í•œ íŒŒì¼ ê²½ë¡œ)
- **íŠ¹ì§•**: 
  - ì¬ê·€ì  ë‹¤ìš´ë¡œë“œ ì§€ì›
  - ë””ë ‰í„°ë¦¬ êµ¬ì¡° ìœ ì§€ ë‹¤ìš´ë¡œë“œ ì˜µì…˜
  - í•œê¸€ íŒŒì¼ëª… ì§€ì›
  - ì—ëŸ¬ íŒŒì¼ ë¬´ì‹œ ì˜µì…˜
  - ì—ëŸ¬ ì‹œ ë‹¤ìš´ë¡œë“œ íŒŒì¼ ìë™ ì‚­ì œ ì˜µì…˜
  - BYTE_ARRAY ë˜ëŠ” FILE íƒ€ì… ë‹¤ìš´ë¡œë“œ ì§€ì›

**5. UploadFiles** (`mb.dnm.service.ftp.UploadFiles`)
- **ê¸°ëŠ¥**: FTP ì„œë²„ì— íŒŒì¼ ì—…ë¡œë“œ
- **Input**: `String`, `List<String>`, `Set<String>`, `FileList` (ì—…ë¡œë“œí•  íŒŒì¼ ê²½ë¡œ)
- **Output**: `List<String>` (ì—…ë¡œë“œëœ FTP ê²½ë¡œ)
- **Error Output**: `List<String>` (ì—…ë¡œë“œ ì‹¤íŒ¨í•œ íŒŒì¼ ê²½ë¡œ)
- **íŠ¹ì§•**: 
  - ë®ì–´ì“°ê¸° ì˜µì…˜
  - ì—ëŸ¬ íŒŒì¼ ë¬´ì‹œ ì˜µì…˜
  - ì—ëŸ¬ ì‹œ ì—…ë¡œë“œ íŒŒì¼ ìë™ ì‚­ì œ ì˜µì…˜

**6. MoveFiles** (`mb.dnm.service.ftp.MoveFiles`)
- **ê¸°ëŠ¥**: FTP ì„œë²„ ë‚´ íŒŒì¼ ì´ë™
- **Input**: `String`, `List<String>`, `Set<String>`, `FileList` (ì´ë™í•  íŒŒì¼ ê²½ë¡œ)
- **Output**: `List<String>` (ì´ë™ëœ íŒŒì¼ ê²½ë¡œ)
- **Error Output**: `List<String>` (ì´ë™ ì‹¤íŒ¨í•œ íŒŒì¼ ê²½ë¡œ)
- **íŠ¹ì§•**: FileTemplate ê¸°ë°˜ ëª©ì ì§€ ê²½ë¡œ ì„¤ì •

**7. DeleteFiles** (`mb.dnm.service.ftp.DeleteFiles`)
- **ê¸°ëŠ¥**: FTP ì„œë²„ íŒŒì¼/ë””ë ‰í„°ë¦¬ ì‚­ì œ
- **Input**: `String`, `List<String>`, `Set<String>`, `FileList` (ì‚­ì œí•  íŒŒì¼ ê²½ë¡œ)
- **Output**: `List<String>` (ì‚­ì œëœ íŒŒì¼ ê²½ë¡œ)
- **Error Output**: `List<String>` (ì‚­ì œ ì‹¤íŒ¨í•œ íŒŒì¼ ê²½ë¡œ)
- **íŠ¹ì§•**: ì—ëŸ¬ íŒŒì¼ ë¬´ì‹œ ì˜µì…˜

#### íŒŒì¼ ì„œë¹„ìŠ¤ ìƒì„¸

**1. ReadFile** (`mb.dnm.service.file.ReadFile`)
- **ê¸°ëŠ¥**: íŒŒì¼ ì½ê¸°
- **Input**: `String` (íŒŒì¼ ê²½ë¡œ)
- **Output**: `byte[]`, `String`, `List<List<Object>>`, `List<Map<String, Object>>` (outputDataTypeì— ë”°ë¼)
- **íŠ¹ì§•**: 
  - ë‹¤ì–‘í•œ ì¶œë ¥ íƒ€ì… ì§€ì› (BYTE_ARRAY, STRING, PARSED_TEXT)
  - íŒŒì¼ íŒŒì‹± ê¸°ëŠ¥ (delimiter, qualifier, recordSeparator ë“±)
  - í—¤ë” ì¡´ì¬ ì—¬ë¶€ì— ë”°ë¥¸ ì¶œë ¥ í˜•ì‹ ë³€ê²½
  - ë©”íƒ€ë°ì´í„° ê¸°ë°˜ íŒŒì‹± ì§€ì›
  - Charset ì„¤ì • ì§€ì›

**2. WriteFile** (`mb.dnm.service.file.WriteFile`)
- **ê¸°ëŠ¥**: íŒŒì¼ ì“°ê¸°
- **Input**: `byte[]`, `String`, `Map<String, Object>`, `List<Map<String, Object>>`
- **Output**: `String` (ìƒì„±ëœ íŒŒì¼ ê²½ë¡œ)
- **íŠ¹ì§•**: 
  - ë®ì–´ì“°ê¸°/ì¶”ê°€ ëª¨ë“œ ì§€ì›
  - ë¹ˆ íŒŒì¼ ìƒì„± í—ˆìš© ì˜µì…˜
  - ë ˆì½”ë“œ êµ¬ë¶„ì, ì»¬ëŸ¼ êµ¬ë¶„ì, í•œì •ì ì„¤ì •
  - NULL/ë¹ˆ ê°’ ì¹˜í™˜ ì˜µì…˜
  - í—¤ë” ì¶”ê°€ ì˜µì…˜
  - Map/List ë°ì´í„° ìë™ í¬ë§·íŒ…

**3. ListFiles** (`mb.dnm.service.file.ListFiles`)
- **ê¸°ëŠ¥**: íŒŒì¼/ë””ë ‰í„°ë¦¬ ëª©ë¡ ì¡°íšŒ
- **Input**: `String` (ë””ë ‰í„°ë¦¬ ê²½ë¡œ, ì„ íƒ)
- **Output**: `FileList` (íŒŒì¼ ëª©ë¡)
- **íŠ¹ì§•**: 
  - ì™€ì¼ë“œì¹´ë“œ íŒŒì¼ëª… íŒ¨í„´ í•„í„° ì§€ì›
  - ì¬ê·€ì  ë””ë ‰í„°ë¦¬ íƒìƒ‰ ì§€ì›
  - íŒŒì¼/ë””ë ‰í„°ë¦¬ íƒ€ì… í•„í„°ë§
  - ë””ë ‰í„°ë¦¬ ìë™ ìƒì„± ì˜µì…˜

**4. CopyFiles** (`mb.dnm.service.file.CopyFiles`)
- **ê¸°ëŠ¥**: íŒŒì¼ ë³µì‚¬
- **Input**: `String`, `List<String>`, `Set<String>`, `FileList` (ë³µì‚¬í•  íŒŒì¼ ê²½ë¡œ)
- **Output**: `List<String>` (ë³µì‚¬ëœ íŒŒì¼ ê²½ë¡œ)
- **Error Output**: `List<String>` (ë³µì‚¬ ì‹¤íŒ¨í•œ íŒŒì¼ ê²½ë¡œ)
- **íŠ¹ì§•**: FileTemplate ê¸°ë°˜ ëª©ì ì§€ ê²½ë¡œ ì„¤ì •

**5. MoveFiles** (`mb.dnm.service.file.MoveFiles`)
- **ê¸°ëŠ¥**: íŒŒì¼ ì´ë™
- **Input**: `String`, `List<String>`, `Set<String>`, `FileList` (ì´ë™í•  íŒŒì¼ ê²½ë¡œ)
- **Output**: `List<String>` (ì´ë™ëœ íŒŒì¼ ê²½ë¡œ)
- **Error Output**: `List<String>` (ì´ë™ ì‹¤íŒ¨í•œ íŒŒì¼ ê²½ë¡œ)
- **íŠ¹ì§•**: FileTemplate ê¸°ë°˜ ëª©ì ì§€ ê²½ë¡œ ì„¤ì •

**6. DeleteFiles** (`mb.dnm.service.file.DeleteFiles`)
- **ê¸°ëŠ¥**: íŒŒì¼/ë””ë ‰í„°ë¦¬ ì‚­ì œ
- **Input**: `String`, `List<String>`, `Set<String>`, `FileList` (ì‚­ì œí•  íŒŒì¼ ê²½ë¡œ)
- **Output**: `List<String>` (ì‚­ì œëœ íŒŒì¼ ê²½ë¡œ)
- **Error Output**: `List<String>` (ì‚­ì œ ì‹¤íŒ¨í•œ íŒŒì¼ ê²½ë¡œ)
- **íŠ¹ì§•**: ì—ëŸ¬ íŒŒì¼ ë¬´ì‹œ ì˜µì…˜

#### ì¼ë°˜ ì„œë¹„ìŠ¤ ìƒì„¸

**1. IterationGroup** (`mb.dnm.service.general.IterationGroup`)
- **ê¸°ëŠ¥**: ë°˜ë³µ ê·¸ë£¹ (ë°˜ë³µë¬¸ ìˆ˜í–‰)
- **Input**: `Iterable` ê°ì²´
- **íŠ¹ì§•**: 
  - Service-Chaining ì—­í•  ìˆ˜í–‰
  - Fetch Size ì„¤ì • (í•œ ë²ˆì— ì²˜ë¦¬í•  ìš”ì†Œ ìˆ˜)
  - ë°˜ë³µë§ˆë‹¤ ìƒˆë¡œìš´ ServiceContext ìƒì„± ì˜µì…˜
  - íŠ¸ëœì­ì…˜/ì„¸ì…˜ ê³µìœ  ì˜µì…˜
  - ì—ëŸ¬ ë°œìƒ ì‹œì—ë„ ê³„ì† ì§„í–‰ ì˜µì…˜
  - BreakIterationì„ í†µí•œ ë°˜ë³µ ì¤‘ë‹¨ ì§€ì›
  - ë‚´ë¶€ Error-Handler ë° Callback ì§€ì›
  - ì¿¼ë¦¬ ì‹œí€€ìŠ¤ ê´€ë¦¬ (ë°˜ë³µë¬¸ ë‚´ì—ì„œ ì†Œì§„ë˜ì§€ ì•ŠìŒ)

**2. TransformData** (`mb.dnm.service.general.TransformData`)
- **ê¸°ëŠ¥**: ë°ì´í„° íƒ€ì… ë³€í™˜
- **Input**: ë³€í™˜í•  ë°ì´í„°
- **Output**: ë³€í™˜ëœ ë°ì´í„°
- **ì§€ì› ë³€í™˜**:
  - BYTE_ARRAY â†” STRING
  - JSON â†” MAP
  - MAP â†’ XML
  - MAP â†’ JSON
  - BYTE_ARRAY â†’ MAP (JSON íŒŒì‹±)
- **íŠ¹ì§•**: Charset ì„¤ì • ì§€ì›, ë°ì´í„° íƒ€ì… ë³€í™˜ ì‹œ ì›ë³¸ ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì—ì„œ ì‚­ì œ ì˜µì…˜

**3. GetSize** (`mb.dnm.service.general.GetSize`)
- **ê¸°ëŠ¥**: ë°ì´í„° í¬ê¸° ì¡°íšŒ
- **Input**: `Object` (í¬ê¸°ë¥¼ í™•ì¸í•  ë°ì´í„°)
- **Output**: `int` (ë°ì´í„° í¬ê¸°)
- **ì§€ì› íƒ€ì…**: Collection, Map, Array, CharSequence, Number, SizeCheckable

**4. PrintInput** (`mb.dnm.service.general.PrintInput`)
- **ê¸°ëŠ¥**: ì…ë ¥ ë°ì´í„° ë¡œê·¸ ì¶œë ¥ (ë””ë²„ê¹…ìš©)
- **Input**: `Object` (ì¶œë ¥í•  ë°ì´í„°)
- **íŠ¹ì§•**: 
  - Collection/Mapì„ JSON/XML í˜•ì‹ìœ¼ë¡œ ì¶œë ¥ ê°€ëŠ¥
  - ë“¤ì—¬ì“°ê¸° ì˜µì…˜

**5. StopIfInputIsNullOrEmpty** (`mb.dnm.service.general.StopIfInputIsNullOrEmpty`)
- **ê¸°ëŠ¥**: ì…ë ¥ì´ nullì´ê±°ë‚˜ ë¹„ì–´ìˆìœ¼ë©´ í”„ë¡œì„¸ìŠ¤ ì¤‘ë‹¨
- **Input**: `Object` (ì²´í¬í•  ë°ì´í„°)
- **Output**: `Object` (ì¡°ê±´ ë¶€í•© ì‹œ ì¶œë ¥í•  ê°’)
- **íŠ¹ì§•**: 
  - Collection, Map, Array, Number, SizeCheckable íƒ€ì… ì§€ì›
  - í”„ë¡œì„¸ìŠ¤ ì¤‘ë‹¨ ì‹œ outputValue ì„¤ì • ê°€ëŠ¥

**6. PauseProcess** (`mb.dnm.service.general.PauseProcess`)
- **ê¸°ëŠ¥**: í”„ë¡œì„¸ìŠ¤ ì¼ì‹œ ì¤‘ì§€
- **íŠ¹ì§•**: ë°€ë¦¬ì´ˆ ë‹¨ìœ„ ì¼ì‹œ ì¤‘ì§€

**7. BreakIteration** (`mb.dnm.service.general.BreakIteration`)
- **ê¸°ëŠ¥**: ë°˜ë³µë¬¸ ì¤‘ë‹¨ (IterationGroup ë‚´ì—ì„œ ì‚¬ìš©)
- **Input**: `Object` (ì²´í¬í•  ë°ì´í„°)
- **íŠ¹ì§•**: Inputì´ nullì´ê±°ë‚˜ ë¹„ì–´ìˆìœ¼ë©´ ë°˜ë³µ ì¤‘ë‹¨

**8. ContinueIteration** (`mb.dnm.service.general.ContinueIteration`)
- **ê¸°ëŠ¥**: ë°˜ë³µë¬¸ ê³„ì† (IterationGroup ë‚´ì—ì„œ ì‚¬ìš©)
- **Input**: `Object` (ì²´í¬í•  ë°ì´í„°)
- **íŠ¹ì§•**: 
  - whenInputEquals: ì…ë ¥ê°’ì´ ì§€ì •ê°’ê³¼ ê°™ìœ¼ë©´ í˜„ì¬ ë°˜ë³µ ê±´ë„ˆë›°ê¸°
  - whenInputNotEquals: ì…ë ¥ê°’ì´ ì§€ì •ê°’ê³¼ ë‹¤ë¥´ë©´ í˜„ì¬ ë°˜ë³µ ê±´ë„ˆë›°ê¸°

**9. ControlInterfaceActivation** (`mb.dnm.service.general.ControlInterfaceActivation`)
- **ê¸°ëŠ¥**: ì¸í„°í˜ì´ìŠ¤ í™œì„±í™”/ë¹„í™œì„±í™” ì œì–´
- **Input**: `Map<String, Object>` (ëª…ë ¹ì–´: $$IF_ID, $$COMMAND, $$KEY)
- **Output**: `Map<String, Object>` (ëª…ë ¹ì–´ ì‹¤í–‰ ê²°ê³¼)
- **ì§€ì› ëª…ë ¹ì–´**: 
  - ACTIVE: ì¸í„°í˜ì´ìŠ¤ í™œì„±í™”
  - INACTIVE: ì¸í„°í˜ì´ìŠ¤ ë¹„í™œì„±í™”
  - RUN: ì¸í„°í˜ì´ìŠ¤ ì¦‰ì‹œ ì‹¤í–‰
- **íŠ¹ì§•**: 
  - ë‹¨ì¼ ì¸í„°í˜ì´ìŠ¤ ë˜ëŠ” ì „ì²´ ì¸í„°í˜ì´ìŠ¤ ì œì–´ ê°€ëŠ¥ (%ALL%)
  - ì•”í˜¸í™”ëœ í‚¤ ê²€ì¦
  - ìê¸° ìì‹  ì¸í„°í˜ì´ìŠ¤ ì œì–´ ë°©ì§€

**10. ThrowException** (`mb.dnm.service.general.ThrowException`)
- **ê¸°ëŠ¥**: ì˜ˆì™¸ ë°œìƒ
- **íŠ¹ì§•**: ì»¤ìŠ¤í…€ ì˜ˆì™¸ ë©”ì‹œì§€ ì„¤ì • ê°€ëŠ¥

**11. OutputCustomData** (`mb.dnm.service.general.OutputCustomData`)
- **ê¸°ëŠ¥**: ì»¤ìŠ¤í…€ ë°ì´í„° ì¶œë ¥
- **Output**: `Object` (ì¶œë ¥í•  ë°ì´í„°)
- **íŠ¹ì§•**: íƒ€ì… ìºìŠ¤íŒ… ì§€ì›

#### ì•”í˜¸í™” ì„œë¹„ìŠ¤ ìƒì„¸

**1. Encrypt** (`mb.dnm.service.crypto.Encrypt`)
- **ê¸°ëŠ¥**: ë°ì´í„° ì•”í˜¸í™”
- **Input**: `Object` (ì•”í˜¸í™”í•  ë°ì´í„°)
- **Output**: `byte[]` (ì•”í˜¸í™”ëœ ë°ì´í„°)
- **ì§€ì› ì•”í˜¸í™” íƒ€ì…**: 
  - SEED128
  - ARIA128
  - JASYPT (PBEWithSHA1AndDESede)
- **íŠ¹ì§•**: 
  - ê°ì²´ ì§ë ¬í™” í›„ ì•”í˜¸í™”
  - GZip ì••ì¶• ì§€ì›
  - ì»¤ìŠ¤í…€ í‚¤ ì„¤ì • ê°€ëŠ¥

**2. Decrypt** (`mb.dnm.service.crypto.Decrypt`)
- **ê¸°ëŠ¥**: ë°ì´í„° ë³µí˜¸í™”
- **Input**: `byte[]` (ì•”í˜¸í™”ëœ ë°ì´í„°)
- **Output**: `Object` (ë³µí˜¸í™”ëœ ë°ì´í„°)
- **ì§€ì› ë³µí˜¸í™” íƒ€ì…**: SEED128, ARIA128, JASYPT
- **íŠ¹ì§•**: GZip ì••ì¶• í•´ì œ ì§€ì›

#### ë™ì  ì½”ë“œ ì„œë¹„ìŠ¤ ìƒì„¸

**1. ExecuteDynamicCode** (`mb.dnm.service.dynamic.ExecuteDynamicCode`)
- **ê¸°ëŠ¥**: ë™ì ìœ¼ë¡œ ì»´íŒŒì¼ëœ Java ì½”ë“œ ì‹¤í–‰
- **íŠ¹ì§•**: 
  - Dynamic Code Sequence ìë™ ê´€ë¦¬
  - Error Dynamic Code Sequence ì§€ì›
  - íŠ¹ì • codeId ì§€ì • ì‹¤í–‰ ê°€ëŠ¥
  - ServiceContext ì ‘ê·¼ ê°€ëŠ¥
  - MyBatis Mapper ê¸°ëŠ¥ í™œìš© ê°€ëŠ¥
  - ëŸ°íƒ€ì„ ì»´íŒŒì¼ ë° ì‹¤í–‰

#### HTTP ì„œë¹„ìŠ¤ ìƒì„¸

**1. SetHttpResponseBody** (`mb.dnm.service.http.SetHttpResponseBody`)
- **ê¸°ëŠ¥**: HTTP ì‘ë‹µ ë°”ë”” ì„¤ì •
- **Input**: `Object` (ì‘ë‹µ ë°”ë”” ë°ì´í„°)
- **íŠ¹ì§•**: 
  - HttpRequestDispatcherì—ì„œ ìë™ ì²˜ë¦¬
  - Content-Type ìë™ ê²°ì • (JSON/XML)
  - HttpAPITemplate ì„¤ì • ë”°ë¦„

---

## ìµœì´ˆ ì‘ì„±ì¼

2024ë…„ 9ì›”

---

## ìˆ˜ì •ì¼

2025ë…„ 12ì›”
